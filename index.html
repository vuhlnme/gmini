<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Game M·ªü √î H√¨nh ·∫¢nh Cho B√©</title>
  <!-- 
  ===== H∆Ø·ªöNG D·∫™N TH√äM CH·ª¶ ƒê·ªÄ M·ªöI =====
  
  1. Th√™m ch·ªß ƒë·ªÅ m·ªõi v√†o TOPICS_CONFIG:
     - T·∫°o key m·ªõi (vd: 'chu_de_moi')
     - Th√™m name (t√™n hi·ªÉn th·ªã v·ªõi emoji)
     - Th√™m color (m√†u n·ªÅn n√∫t)
     - Th√™m m·∫£ng questions v·ªõi c√¢u h·ªèi
  
  2. Th√™m SVG cho h√¨nh ·∫£nh v√†o createSVGImage():
     - T·∫°o SVG template cho t·ª´ng img ID
     - K√≠ch th∆∞·ªõc chu·∫©n: 200x200px
  
  3. Kh√¥ng c·∫ßn s·ª≠a HTML hay c√°c h√†m kh√°c!
     N√∫t v√† logic s·∫Ω t·ª± ƒë·ªông ƒë∆∞·ª£c t·∫°o.
  
  V√≠ d·ª• th√™m ch·ªß ƒë·ªÅ "Th·ªÉ thao":
  the_thao: {
    name: '‚öΩ Th·ªÉ thao',
    color: '#ff6b6b',
    questions: [
      { img: "football", q: "Qu·∫£ b√≥ng n√†y d√πng ƒë·ªÉ ch∆°i g√¨?", options: ["A. B√≥ng r·ªï", "B. B√≥ng ƒë√°", "C. Tennis", "D. C·∫ßu l√¥ng"], a: "B" }
    ]
  }
  -->
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background-color: #f0f8ff; }
    h1 { color: #2c3e50; }
    .grid { display: grid; grid-template-columns: repeat(6, 90px); gap: 10px; justify-content: center; margin-top: 20px; }
    .cell {
      width: 90px;
      height: 90px;
      background-color: #3498db;
      color: white;
      font-weight: bold;
      font-size: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .cell:hover {
      transform: scale(1.1);
      background-color: #2980b9;
    }
    .cell.disabled {
      background-color: #95a5a6;
      cursor: not-allowed;
      transform: none;
    }
    .cell.disabled:hover {
      transform: none;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: linear-gradient(135deg, #ffffff, #f8f9fa);
      padding: 40px;
      border-radius: 20px;
      text-align: center;
      width: 80%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 15px 35px rgba(0,0,0,0.3);
      animation: modalSlide 0.3s ease-out;
      border: 3px solid #3498db;
      position: relative;
    }
    .modal-content::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #e74c3c, #f39c12, #2ecc71, #3498db, #9b59b6);
      border-radius: 20px 20px 0 0;
    }
    @keyframes modalSlide {
      from { transform: scale(0.7); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    .modal-content #questionImage {
      max-width: 320px;
      max-height: 320px;
      margin: 0 auto 25px auto;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      display: block;
      border: 4px solid #e74c3c;
      background: linear-gradient(135deg, #fff, #f8f9fa);
      padding: 15px;
      position: relative;
    }
    .modal-content #questionImage::before {
      content: "üñºÔ∏è";
      position: absolute;
      top: -10px;
      right: -10px;
      background: #e74c3c;
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      box-shadow: 0 2px 6px rgba(231, 76, 60, 0.4);
    }
    .modal-content #questionImage svg {
      width: 100%;
      height: auto;
      max-height: 300px;
      border-radius: 15px;
    }
    .modal-content #questionText {
      font-size: 28px;
      font-weight: 800;
      color: #1a252f;
      margin: 25px 0 35px 0;
      line-height: 1.4;
      text-align: center;
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      padding: 20px 25px;
      border-radius: 15px;
      border: 3px solid #3498db;
      box-shadow: 0 4px 12px rgba(52, 152, 219, 0.2);
      text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
      position: relative;
    }
    .modal-content #questionText::before {
      content: "‚ùì";
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 24px;
    }
    .modal-content #optionsContainer {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin: 40px 0 30px 0;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      padding: 25px;
      background: linear-gradient(135deg, #ffffff, #f8f9fa);
      border-radius: 20px;
      border: 2px solid #bdc3c7;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      position: relative;
    }
    .modal-content #optionsContainer::before {
      content: "üìù Ch·ªçn ƒë√°p √°n ƒë√∫ng:";
      position: absolute;
      top: -15px;
      left: 20px;
      background: #3498db;
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 16px;
      font-weight: 700;
      box-shadow: 0 2px 6px rgba(52, 152, 219, 0.3);
    }
    .modal-content input {
      font-size: 20px;
      padding: 12px;
      border: 2px solid #3498db;
      border-radius: 10px;
      width: 250px;
      text-align: center;
    }
    .modal-content button {
      font-size: 18px;
      padding: 12px 25px;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-left: 10px;
      transition: background 0.3s;
    }
    .modal-content button:hover {
      background: #2980b9;
    }
    .modal-content p {
      font-size: 18px;
      font-weight: bold;
      color: #2c3e50;
      margin: 15px 0;
    }
    .option-btn {
      display: block;
      width: 100%;
      margin: 0;
      padding: 18px 20px;
      font-size: 20px;
      font-weight: 700;
      text-align: left;
      border: 3px solid #bdc3c7;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      min-height: 60px;
      display: flex;
      align-items: center;
      text-shadow: 1px 1px 2px rgba(255,255,255,0.9);
      letter-spacing: 0.3px;
    }
    .option-btn.option-a {
      background: linear-gradient(135deg, #ffcdd2, #ffebee);
      border-color: #d81b60;
      color: #660e2e;
      box-shadow: 0 2px 4px rgba(216, 27, 96, 0.2);
    }
    .option-btn.option-b {
      background: linear-gradient(135deg, #c8e6c9, #e8f5e8);
      border-color: #388e3c;
      color: #1b5e20;
      box-shadow: 0 2px 4px rgba(56, 142, 60, 0.2);
    }
    .option-btn.option-c {
      background: linear-gradient(135deg, #bbdefb, #e3f2fd);
      border-color: #1976d2;
      color: #0d47a1;
      box-shadow: 0 2px 4px rgba(25, 118, 210, 0.2);
    }
    .option-btn.option-d {
      background: linear-gradient(135deg, #ffcc80, #fff3e0);
      border-color: #f57c00;
      color: #bf360c;
      box-shadow: 0 2px 4px rgba(245, 124, 0, 0.2);
    }
    .option-btn:hover {
      transform: scale(1.03);
      box-shadow: 0 6px 12px rgba(0,0,0,0.25);
      font-weight: bold;
      border-width: 4px;
    }
    .option-btn.option-a:hover {
      background: linear-gradient(135deg, #f8bbd9, #ffcdd2);
      color: #4a0e23;
    }
    .option-btn.option-b:hover {
      background: linear-gradient(135deg, #a5d6a7, #c8e6c9);
      color: #0f3f12;
    }
    .option-btn.option-c:hover {
      background: linear-gradient(135deg, #90caf9, #bbdefb);
      color: #042a5c;
    }
    .option-btn.option-d:hover {
      background: linear-gradient(135deg, #ffb74d, #ffcc80);
      color: #8f2707;
    }
    .option-btn.correct {
      background: linear-gradient(135deg, #81c784, #c8e6c9) !important;
      border-color: #2e7d32 !important;
      color: #1b5e20 !important;
      animation: correctPulse 0.6s ease-in-out;
      font-weight: 800;
      box-shadow: 0 4px 12px rgba(46, 125, 50, 0.4) !important;
    }
    .option-btn.correct::after {
      content: "‚úì";
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #1b5e20;
      font-size: 28px;
      font-weight: bold;
      text-shadow: 1px 1px 2px rgba(255,255,255,0.9);
    }
    .option-btn.wrong {
      background: linear-gradient(135deg, #e57373, #ffcdd2) !important;
      border-color: #d32f2f !important;
      color: #b71c1c !important;
      animation: wrongShake 0.6s ease-in-out;
      font-weight: 800;
      box-shadow: 0 4px 12px rgba(211, 47, 47, 0.4) !important;
    }
    .option-btn.wrong::after {
      content: "‚úó";
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #b71c1c;
      font-size: 28px;
      font-weight: bold;
      text-shadow: 1px 1px 2px rgba(255,255,255,0.9);
    }
    
    @keyframes correctPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    @keyframes wrongShake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    
    /* Hi·ªáu ·ª©ng th√¥ng b√°o */
    .success-message {
      position: fixed;
      top: 20px;
      right: 20px;
      max-width: 400px;
      background: linear-gradient(45deg, #2ecc71, #27ae60);
      color: white;
      padding: 20px 25px;
      border-radius: 15px;
      font-size: 18px;
      font-weight: bold;
      z-index: 10000;
      box-shadow: 0 8px 25px rgba(46, 204, 113, 0.4);
      animation: slideInRight 0.6s ease-out;
      text-align: left;
      border-left: 5px solid #1e8449;
    }
    
    .error-message {
      position: fixed;
      top: 20px;
      right: 20px;
      max-width: 400px;
      background: linear-gradient(45deg, #e74c3c, #c0392b);
      color: white;
      padding: 20px 25px;
      border-radius: 15px;
      font-size: 18px;
      font-weight: bold;
      z-index: 10000;
      box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
      animation: slideInRight 0.6s ease-out;
      text-align: left;
      border-left: 5px solid #a93226;
    }
    
    @keyframes slideInRight {
      0% { transform: translateX(100%); opacity: 0; }
      100% { transform: translateX(0); opacity: 1; }
    }
    
    /* Hi·ªáu ·ª©ng celebration */
    .celebration {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 80px;
      z-index: 9999;
      animation: celebrationBounce 1s ease-out;
      pointer-events: none;
    }
    
    @keyframes celebrationBounce {
      0% { transform: translate(-50%, -50%) scale(0); }
      50% { transform: translate(-50%, -50%) scale(1.2); }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
    }

    .topic-message {
      position: fixed;
      top: 20px;
      left: 20px;
      max-width: 350px;
      background: linear-gradient(45deg, #3498db, #2980b9);
      color: white;
      padding: 15px 20px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: bold;
      z-index: 10000;
      box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
      animation: slideInLeft 0.6s ease-out;
      text-align: left;
      border-left: 5px solid #1f4e79;
    }
    
    @keyframes slideInLeft {
      0% { transform: translateX(-100%); opacity: 0; }
      100% { transform: translateX(0); opacity: 1; }
    }

    .game-complete-message {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 500px;
      background: linear-gradient(45deg, #2ecc71, #27ae60);
      color: white;
      padding: 40px 50px;
      border-radius: 20px;
      font-size: 20px;
      font-weight: bold;
      z-index: 10001;
      box-shadow: 0 15px 40px rgba(46, 204, 113, 0.4);
      animation: gameCompleteSlide 0.8s ease-out;
      text-align: center;
      border: 4px solid #1e8449;
    }
    
    @keyframes gameCompleteSlide {
      0% { transform: translate(-50%, -50%) scale(0.3); opacity: 0; }
      50% { transform: translate(-50%, -50%) scale(1.05); opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }
  </style>
</head>
<body>
  <h1>üé≤ M·ªü √î C√¢u H·ªèi B·∫±ng H√¨nh ·∫¢nh üé≤</h1>
  <p>B√© ch·ªçn ch·ªß ƒë·ªÅ v√† ch·ªçn 1 √¥, nh√¨n h√¨nh r·ªìi tr·∫£ l·ªùi!</p>
  <div style="margin: 15px 0; padding: 15px; background: linear-gradient(135deg, #f8f9fa, #e9ecef); border-radius: 15px; border: 3px solid #3498db; box-shadow: 0 4px 8px rgba(52, 152, 219, 0.2);">
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 18px; font-weight: bold; text-align: center;">
      <div style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); padding: 12px; border-radius: 10px; border: 2px solid #f39c12; color: #7d4f00;">
        üèÜ ƒêi·ªÉm s·ªë: <span id="score" style="color: #e67e22; font-size: 22px;">0</span>
      </div>
      <div style="background: linear-gradient(135deg, #d1ecf1, #a7e5f0); padding: 12px; border-radius: 10px; border: 2px solid #17a2b8; color: #0c5460;">
        ‚úÖ ƒê√∫ng: <span id="correctCount" style="color: #28a745; font-size: 22px;">0</span>
      </div>
      <div style="background: linear-gradient(135deg, #f8d7da, #f5c6cb); padding: 12px; border-radius: 10px; border: 2px solid #dc3545; color: #721c24;">
        ‚ùå Sai: <span id="wrongCount" style="color: #dc3545; font-size: 22px;">0</span>
      </div>
      <div style="background: linear-gradient(135deg, #d4edda, #c3e6cb); padding: 12px; border-radius: 10px; border: 2px solid #28a745; color: #155724;">
        üìä T·ªïng: <span id="answered" style="color: #28a745; font-size: 22px;">0</span>/<span id="totalQuestions" style="color: #6c757d; font-size: 22px;">20</span>
      </div>
    </div>
  </div>
  
  <div style="margin: 20px 0;">
    <h3>üéØ Ch·ªçn ch·ªß ƒë·ªÅ:</h3>
    <div id="topicButtons">
      <!-- C√°c n√∫t ch·ªß ƒë·ªÅ s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông t·∫°o b·∫±ng JavaScript -->
    </div>
  </div>
  
  <div class="grid" id="grid"></div>

  <div class="modal" id="modal">
    <div class="modal-content">
      <div id="questionImage" style="max-width: 250px; margin-bottom: 15px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);"></div>
      <p id="questionText"></p>
      <div id="optionsContainer" style="margin: 20px 0;">
        <!-- C√°c l·ª±a ch·ªçn A, B, C, D s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông -->
      </div>
      <button onclick="closeModal()" style="background: #95a5a6; margin-top: 10px;">‚ùå B·ªè qua</button>
    </div>
  </div>

  <script>
    let questions = [];
    const grid = document.getElementById("grid");
    const modal = document.getElementById("modal");
    const questionImage = document.getElementById("questionImage");
    const questionText = document.getElementById("questionText");
    const optionsContainer = document.getElementById("optionsContainer");
    let currentCell = null;
    let currentAnswer = "";
    let score = 0;
    let answered = 0;
    let correctAnswers = 0;
    let wrongAnswers = 0;
    let totalQuestions = 0;

    // ===== C·∫§U H√åNH GAME =====
    const GAME_CONFIG = {
      questionsPerGame: 20, // S·ªë c√¢u h·ªèi m·ªói l·∫ßn ch∆°i (thay v√¨ 36)
      showSuccessAnimation: true,
      showFailAnimation: true,
      playSound: true
    };

    // ===== H·ªÜ TH·ªêNG √ÇM THANH =====
    const AUDIO_SYSTEM = {
      correctSound: null,
      wrongSound: null,
      celebrationSound: null,
      
      init() {
        // T·∫°o √¢m thanh b·∫±ng Web Audio API (kh√¥ng c·∫ßn file √¢m thanh)
        this.createAudioContext();
      },
      
      createAudioContext() {
        try {
          this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
        } catch (e) {
          console.log('Web Audio API kh√¥ng ƒë∆∞·ª£c h·ªó tr·ª£');
        }
      },
      
      playCorrectSound() {
        if (!GAME_CONFIG.playSound || !this.audioContext) return;
        
        // T·∫°o √¢m thanh th√†nh c√¥ng (C4-E4-G4)
        this.playChord([261.63, 329.63, 392.00], 0.5);
      },
      
      playWrongSound() {
        if (!GAME_CONFIG.playSound || !this.audioContext) return;
        
        // T·∫°o √¢m thanh th·∫•t b·∫°i (C4-Bb3)
        this.playTone(220, 0.3, 'sawtooth');
        setTimeout(() => this.playTone(196, 0.3, 'sawtooth'), 150);
      },
      
      playCelebrationSound() {
        if (!GAME_CONFIG.playSound || !this.audioContext) return;
        
        // T·∫°o √¢m thanh ƒÉn m·ª´ng
        const notes = [523.25, 659.25, 783.99, 1046.50]; // C5-E5-G5-C6
        notes.forEach((freq, i) => {
          setTimeout(() => this.playTone(freq, 0.3), i * 100);
        });
      },
      
      playChord(frequencies, duration) {
        frequencies.forEach(freq => {
          this.playTone(freq, duration);
        });
      },
      
      playTone(frequency, duration, type = 'sine') {
        if (!this.audioContext) return;
        
        const oscillator = this.audioContext.createOscillator();
        const gainNode = this.audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(this.audioContext.destination);
        
        oscillator.frequency.value = frequency;
        oscillator.type = type;
        
        gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + duration);
        
        oscillator.start(this.audioContext.currentTime);
        oscillator.stop(this.audioContext.currentTime + duration);
      }
    };

    // ===== H·ªÜ TH·ªêNG HI·ªÜU ·ª®NG =====
    const EFFECTS_SYSTEM = {
      showSuccessMessage(message) {
        const messageEl = document.createElement('div');
        messageEl.className = 'success-message';
        messageEl.innerHTML = `üéâ ${message} üéâ`;
        
        NOTIFICATION_SYSTEM.addNotification(messageEl, 2500);
        
        // T·∫°o celebration effect
        this.createCelebration();
        
        // Ph√°t √¢m thanh
        AUDIO_SYSTEM.playCorrectSound();
      },
      
      showErrorMessage(message) {
        const messageEl = document.createElement('div');
        messageEl.className = 'error-message';
        messageEl.innerHTML = `üòî ${message}`;
        
        NOTIFICATION_SYSTEM.addNotification(messageEl, 3000);
        
        // Ph√°t √¢m thanh
        AUDIO_SYSTEM.playWrongSound();
      },
      
      createCelebration() {
        const celebration = document.createElement('div');
        celebration.className = 'celebration';
        celebration.textContent = ['üéä', 'üéâ', '‚≠ê', 'üèÜ', 'üëè'][Math.floor(Math.random() * 5)];
        document.body.appendChild(celebration);
        
        setTimeout(() => {
          celebration.remove();
        }, 1000);
      },
      
      createConfetti() {
        for (let i = 0; i < 50; i++) {
          const confetti = document.createElement('div');
          confetti.style.position = 'fixed';
          confetti.style.left = Math.random() * window.innerWidth + 'px';
          confetti.style.top = '-10px';
          confetti.style.width = '10px';
          confetti.style.height = '10px';
          confetti.style.backgroundColor = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffd93d'][Math.floor(Math.random() * 5)];
          confetti.style.borderRadius = '50%';
          confetti.style.zIndex = '9999';
          confetti.style.animation = `fall ${Math.random() * 2 + 2}s linear forwards`;
          document.body.appendChild(confetti);
          
          setTimeout(() => {
            confetti.remove();
          }, 4000);
        }
      },
      
      showTopicLoadMessage(topicName, totalQuestions, isAllTopics = false) {
        const messageEl = document.createElement('div');
        messageEl.className = 'topic-message';
        
        if (isAllTopics) {
          // T√≠nh t·ªïng s·ªë c√¢u h·ªèi t·ª´ t·∫•t c·∫£ ch·ªß ƒë·ªÅ
          const totalAllQuestions = Object.keys(TOPICS_CONFIG).reduce((total, key) => {
            if (key !== 'tat_ca_chu_de') {
              total += TOPICS_CONFIG[key].questions.length;
            }
            return total;
          }, 0);
          
          messageEl.innerHTML = `
            üé≤ ƒê√£ t·∫£i: ${topicName}!<br>
            <small>C√≥ ${totalAllQuestions} c√¢u h·ªèi t·ª´ t·∫•t c·∫£ ch·ªß ƒë·ªÅ!</small>
          `;
        } else {
          messageEl.innerHTML = `
            ‚úÖ ƒê√£ t·∫£i: ${topicName}!<br>
            <small>C√≥ ${totalQuestions} c√¢u h·ªèi trong ch·ªß ƒë·ªÅ n√†y!</small>
          `;
        }
        
        NOTIFICATION_SYSTEM.addNotification(messageEl, 3000);
        AUDIO_SYSTEM.playCorrectSound();
      },
      
      showGameCompleteMessage(score, totalQuestions) {
        const percentage = Math.round((correctAnswers / totalQuestions) * 100);
        const messageEl = document.createElement('div');
        messageEl.className = 'game-complete-message';
        messageEl.innerHTML = `
          üèÜ Ch√∫c m·ª´ng! Ho√†n th√†nh!<br><br>
          üìä <strong>K·∫øt qu·∫£ chi ti·∫øt:</strong><br>
          üéØ T·ªïng ƒëi·ªÉm: <span style="color: #f39c12; font-size: 24px; font-weight: bold;">${score}</span>/${totalQuestions * 10}<br>
          ‚úÖ Tr·∫£ l·ªùi ƒë√∫ng: <span style="color: #27ae60; font-size: 22px; font-weight: bold;">${correctAnswers}</span> c√¢u<br>
          ‚ùå Tr·∫£ l·ªùi sai: <span style="color: #e74c3c; font-size: 22px; font-weight: bold;">${wrongAnswers}</span> c√¢u<br>
          üåü T·ª∑ l·ªá ƒë√∫ng: <span style="color: #8e44ad; font-size: 24px; font-weight: bold;">${percentage}%</span><br><br>
          ${percentage >= 80 ? 'üèÖ Xu·∫•t s·∫Øc!' : percentage >= 60 ? 'üëè Kh√° t·ªët!' : 'üí™ C·ªë g·∫Øng th√™m nh√©!'}
        `;
        
        NOTIFICATION_SYSTEM.addNotification(messageEl, 6000);
        
        this.createConfetti();
        AUDIO_SYSTEM.playCelebrationSound();
      }
    };

    // ===== H·ªÜ TH·ªêNG QU·∫¢N L√ù TH√îNG B√ÅO =====
    const NOTIFICATION_SYSTEM = {
      activeNotifications: [],
      
      addNotification(element, duration = 3000) {
        // X√≥a th√¥ng b√°o c≈© c√πng lo·∫°i
        this.clearNotifications(element.className);
        
        // Th√™m th√¥ng b√°o m·ªõi
        this.activeNotifications.push(element);
        document.body.appendChild(element);
        
        // T·ª± ƒë·ªông x√≥a sau th·ªùi gian
        setTimeout(() => {
          this.removeNotification(element);
        }, duration);
      },
      
      clearNotifications(className) {
        this.activeNotifications = this.activeNotifications.filter(notification => {
          if (notification.className === className) {
            if (notification.parentNode) {
              notification.parentNode.removeChild(notification);
            }
            return false;
          }
          return true;
        });
      },
      
      removeNotification(element) {
        if (element && element.parentNode) {
          element.parentNode.removeChild(element);
        }
        this.activeNotifications = this.activeNotifications.filter(n => n !== element);
      }
    };

    // ===== C·∫§U H√åNH CH·ª¶ ƒê·ªÄ (D·ªÑ D√ÄNG TH√äM/S·ª¨A) =====
    const TOPICS_CONFIG = {
      toan: {
        name: 'üî¢ To√°n',
        color: '#e74c3c',
        questions: [
          // C√¢u h·ªèi nh·∫≠n bi·∫øt s·ªë (gi·ªØ l·∫°i m·ªôt s·ªë c∆° b·∫£n)
          { img: "number_1", q: "ƒê√¢y l√† s·ªë m·∫•y?", options: ["A. 1", "B. 2", "C. 3", "D. 4"], a: "A" },
          { img: "number_5", q: "ƒê√¢y l√† s·ªë m·∫•y?", options: ["A. 4", "B. 5", "C. 6", "D. 7"], a: "B" },
          { img: "number_10", q: "ƒê√¢y l√† s·ªë m·∫•y?", options: ["A. 8", "B. 9", "C. 10", "D. 11"], a: "C" },
          
          // Ph√©p c·ªông 2 s·ªë (d∆∞·ªõi 100)
          { img: "addition_12_23", q: "12 + 23 = ?", options: ["A. 34", "B. 35", "C. 36", "D. 37"], a: "B" },
          { img: "addition_15_28", q: "15 + 28 = ?", options: ["A. 42", "B. 43", "C. 44", "D. 45"], a: "B" },
          { img: "addition_24_35", q: "24 + 35 = ?", options: ["A. 58", "B. 59", "C. 60", "D. 61"], a: "B" },
          { img: "addition_37_26", q: "37 + 26 = ?", options: ["A. 62", "B. 63", "C. 64", "D. 65"], a: "B" },
          { img: "addition_45_29", q: "45 + 29 = ?", options: ["A. 73", "B. 74", "C. 75", "D. 76"], a: "B" },
          
          // Ph√©p tr·ª´ 2 s·ªë (d∆∞·ªõi 100)
          { img: "subtraction_56_23", q: "56 - 23 = ?", options: ["A. 32", "B. 33", "C. 34", "D. 35"], a: "B" },
          { img: "subtraction_75_28", q: "75 - 28 = ?", options: ["A. 46", "B. 47", "C. 48", "D. 49"], a: "B" },
          { img: "subtraction_84_37", q: "84 - 37 = ?", options: ["A. 46", "B. 47", "C. 48", "D. 49"], a: "B" },
          { img: "subtraction_92_45", q: "92 - 45 = ?", options: ["A. 46", "B. 47", "C. 48", "D. 49"], a: "B" },
          { img: "subtraction_68_29", q: "68 - 29 = ?", options: ["A. 38", "B. 39", "C. 40", "D. 41"], a: "B" },
          
          // Ph√©p c·ªông tr·ª´ li√™n ti·∫øp 3 s·ªë
          { img: "three_numbers_1", q: "12 + 15 - 8 = ?", options: ["A. 18", "B. 19", "C. 20", "D. 21"], a: "B" },
          { img: "three_numbers_2", q: "25 - 12 + 18 = ?", options: ["A. 30", "B. 31", "C. 32", "D. 33"], a: "B" },
          { img: "three_numbers_3", q: "34 + 27 - 15 = ?", options: ["A. 45", "B. 46", "C. 47", "D. 48"], a: "B" },
          { img: "three_numbers_4", q: "50 - 23 + 16 = ?", options: ["A. 42", "B. 43", "C. 44", "D. 45"], a: "B" },
          { img: "three_numbers_5", q: "18 + 24 - 19 = ?", options: ["A. 22", "B. 23", "C. 24", "D. 25"], a: "B" },
          
          // C√¢u h·ªèi h√¨nh h·ªçc (gi·ªØ l·∫°i)
          { img: "circle_shape", q: "ƒê√¢y l√† h√¨nh g√¨?", options: ["A. Vu√¥ng", "B. Tr√≤n", "C. Tam gi√°c", "D. Ch·ªØ nh·∫≠t"], a: "B" },
          { img: "square_shape", q: "ƒê√¢y l√† h√¨nh g√¨?", options: ["A. Vu√¥ng", "B. Tr√≤n", "C. Tam gi√°c", "D. Ch·ªØ nh·∫≠t"], a: "A" },
          { img: "triangle_shape", q: "ƒê√¢y l√† h√¨nh g√¨?", options: ["A. Vu√¥ng", "B. Tr√≤n", "C. Tam gi√°c", "D. Ch·ªØ nh·∫≠t"], a: "C" },
          
          // C√¢u h·ªèi to√°n n√¢ng cao kh√¥ng c·∫ßn h√¨nh
          { img: "", q: "Trong 1 tu·∫ßn c√≥ bao nhi√™u ng√†y?", options: ["A. 6 ng√†y", "B. 7 ng√†y", "C. 8 ng√†y", "D. 5 ng√†y"], a: "B" },
          { img: "", q: "23 + 16 = ?", options: ["A. 38", "B. 39", "C. 40", "D. 41"], a: "B" },
          { img: "", q: "45 - 18 = ?", options: ["A. 26", "B. 27", "C. 28", "D. 29"], a: "B" },
          { img: "", q: "35 + 28 = ?", options: ["A. 62", "B. 63", "C. 64", "D. 65"], a: "B" },
          { img: "", q: "72 - 35 = ?", options: ["A. 36", "B. 37", "C. 38", "D. 39"], a: "B" },
          { img: "", q: "19 + 26 = ?", options: ["A. 44", "B. 45", "C. 46", "D. 47"], a: "B" },
          { img: "", q: "67 - 29 = ?", options: ["A. 37", "B. 38", "C. 39", "D. 40"], a: "B" },
          { img: "", q: "14 + 37 - 22 = ?", options: ["A. 28", "B. 29", "C. 30", "D. 31"], a: "B" },
          { img: "", q: "56 - 18 + 25 = ?", options: ["A. 62", "B. 63", "C. 64", "D. 65"], a: "B" },
          { img: "", q: "32 + 19 - 15 = ?", options: ["A. 35", "B. 36", "C. 37", "D. 38"], a: "B" },
          { img: "", q: "78 - 25 + 12 = ?", options: ["A. 64", "B. 65", "C. 66", "D. 67"], a: "B" },
          { img: "", q: "26 + 34 - 18 = ?", options: ["A. 41", "B. 42", "C. 43", "D. 44"], a: "B" },
          { img: "", q: "53 - 27 + 16 = ?", options: ["A. 41", "B. 42", "C. 43", "D. 44"], a: "B" },
          { img: "", q: "15 + 38 - 24 = ?", options: ["A. 28", "B. 29", "C. 30", "D. 31"], a: "B" },
          { img: "", q: "64 - 19 + 28 = ?", options: ["A. 72", "B. 73", "C. 74", "D. 75"], a: "B" },
          { img: "", q: "29 + 45 - 37 = ?", options: ["A. 36", "B. 37", "C. 38", "D. 39"], a: "B" },
          { img: "", q: "H√¨nh tr√≤n c√≥ m·∫•y c·∫°nh?", options: ["A. 0 c·∫°nh", "B. 1 c·∫°nh", "C. 2 c·∫°nh", "D. 3 c·∫°nh"], a: "A" },
          { img: "", q: "H√¨nh vu√¥ng c√≥ m·∫•y c·∫°nh?", options: ["A. 3 c·∫°nh", "B. 4 c·∫°nh", "C. 5 c·∫°nh", "D. 6 c·∫°nh"], a: "B" },
          { img: "", q: "1 t√° c√≥ bao nhi√™u c√°i?", options: ["A. 10 c√°i", "B. 11 c√°i", "C. 12 c√°i", "D. 13 c√°i"], a: "C" },
          { img: "", q: "1 th·∫≠p k·ª∑ c√≥ bao nhi√™u nƒÉm?", options: ["A. 5 nƒÉm", "B. 10 nƒÉm", "C. 15 nƒÉm", "D. 20 nƒÉm"], a: "B" }
        ]
      },
      con_vat: {
        name: 'üê∂ Con v·∫≠t',
        color: '#27ae60',
        questions: [
          { img: "cat", q: "Con g√¨ k√™u meo meo?", options: ["A. Ch√≥", "B. M√®o", "C. V·ªãt", "D. G√†"], a: "B" },
          { img: "dog", q: "Con g√¨ trung th√†nh v·ªõi ch·ªß?", options: ["A. Ch√≥", "B. M√®o", "C. Chu·ªôt", "D. G√†"], a: "A" },
          { img: "duck", q: "Con g√¨ b∆°i gi·ªèi v√† k√™u c·∫°p c·∫°p?", options: ["A. C√°", "B. ·∫æch", "C. V·ªãt", "D. Ng·ªóng"], a: "C" },
          { img: "bird", q: "Con g√¨ bay ƒë∆∞·ª£c tr√™n tr·ªùi?", options: ["A. Chu·ªôt", "B. Ch√≥", "C. M√®o", "D. Chim"], a: "D" },
          { img: "elephant", q: "Con g√¨ c√≥ v√≤i d√†i v√† to nh·∫•t?", options: ["A. Heo", "B. Voi", "C. B√≤", "D. Ng·ª±a"], a: "B" },
          { img: "kangaroo", q: "Con g√¨ nh·∫£y cao v√† c√≥ t√∫i b·ª•ng?", options: ["A. Th·ªè", "B. Kangaroo", "C. S√≥c", "D. Chu·ªôt"], a: "B" },
          { img: "cow", q: "Con g√¨ cho s·ªØa v√† k√™u √≤ √≥?", options: ["A. B√≤", "B. D√™", "C. Heo", "D. Ng·ª±a"], a: "A" },
          { img: "giraffe", q: "Con g√¨ c·ªï d√†i nh·∫•t?", options: ["A. Ng·ª±a", "B. B√≤", "C. H∆∞∆°u cao c·ªï", "D. Voi"], a: "C" },
          { img: "rabbit", q: "Con g√¨ nh·∫£y gi·ªèi v√† c√≥ tai d√†i?", options: ["A. Th·ªè", "B. Chu·ªôt", "C. M√®o", "D. Ch√≥"], a: "A" },
          { img: "fish", q: "Con g√¨ s·ªëng d∆∞·ªõi n∆∞·ªõc?", options: ["A. Chim", "B. C√°", "C. M√®o", "D. Ch√≥"], a: "B" },
          { img: "monkey", q: "Con g√¨ th√≠ch ƒÉn chu·ªëi?", options: ["A. Voi", "B. Kh·ªâ", "C. Heo", "D. G√†"], a: "B" },
          { img: "tiger", q: "Con g√¨ c√≥ v·∫±n ƒëen v√†ng?", options: ["A. B√°o", "B. H·ªï", "C. S∆∞ t·ª≠", "D. M√®o"], a: "B" },
          { img: "sheep", q: "Con g√¨ c√≥ l√¥ng x√π v√† k√™u be be?", options: ["A. D√™", "B. C·ª´u", "C. B√≤", "D. Heo"], a: "B" },
          { img: "horse", q: "Con g√¨ ch·∫°y nhanh v√† k√™u h√≠ h√≠?", options: ["A. Ng·ª±a", "B. B√≤", "C. D√™", "D. Heo"], a: "A" },
          { img: "frog", q: "Con g√¨ nh·∫£y v√† k√™u ·ªôp ·ªôp?", options: ["A. Chim", "B. ·∫æch", "C. C√°", "D. R·∫Øn"], a: "B" },
          // Th√™m c√¢u h·ªèi m·ªõi kh√¥ng c·∫ßn h√¨nh
          { img: "", q: "Con g√¨ s·ªëng ·ªü c·ª±c B·∫Øc, l√¥ng tr·∫Øng?", options: ["A. G·∫•u n√¢u", "B. G·∫•u tr√∫c", "C. G·∫•u B·∫Øc c·ª±c", "D. S∆∞ t·ª≠"], a: "C" },
          { img: "", q: "Con g√¨ c√≥ v·∫øt ƒëen tr·∫Øng gi·ªëng ng·ª±a v·∫±n?", options: ["A. Ng·ª±a", "B. Ng·ª±a v·∫±n", "C. H·ªï", "D. B√°o"], a: "B" },
          { img: "", q: "Con g√¨ l·ªõn nh·∫•t tr√™n c·∫°n?", options: ["A. H·ªï", "B. S∆∞ t·ª≠", "C. Voi", "D. H∆∞∆°u cao c·ªï"], a: "C" },
          { img: "", q: "Con g√¨ l·ªõn nh·∫•t d∆∞·ªõi n∆∞·ªõc?", options: ["A. C√° heo", "B. C√° m·∫≠p", "C. C√° voi", "D. B·∫°ch tu·ªôc"], a: "C" },
          { img: "", q: "Con g√¨ c√≥ 8 ch√¢n?", options: ["A. Nh·ªán", "B. Ki·∫øn", "C. Ong", "D. B∆∞·ªõm"], a: "A" },
          { img: "", q: "Con g√¨ th√≠ch ƒÉn m·∫≠t ong?", options: ["A. Ki·∫øn", "B. G·∫•u", "C. H·ªï", "D. S√≥i"], a: "B" },
          { img: "", q: "Con g√¨ ƒë·∫ª tr·ª©ng nh∆∞ng cho con b√∫?", options: ["A. G√†", "B. V·ªãt", "C. Th√∫ m·ªè v·ªãt", "D. C√°"], a: "C" },
          { img: "", q: "Con g√¨ s·ªëng ƒë∆∞·ª£c c·∫£ tr√™n c·∫°n v√† d∆∞·ªõi n∆∞·ªõc?", options: ["A. C√°", "B. Chim", "C. ·∫æch", "D. R·∫Øn"], a: "C" },
          { img: "", q: "Con g√¨ kh√¥ng c√≥ ch√¢n nh∆∞ng b√≤ ƒë∆∞·ª£c?", options: ["A. R·∫Øn", "B. C√°", "C. Chim", "D. ·∫æch"], a: "A" },
          { img: "", q: "Con g√¨ bay ƒë∆∞·ª£c m√† kh√¥ng ph·∫£i chim?", options: ["A. Chu·ªôt", "B. D∆°i", "C. ·∫æch", "D. C√°"], a: "B" }
        ]
      },
      cuoc_song: {
        name: 'üè° Cu·ªôc s·ªëng',
        color: '#f39c12',
        questions: [
          { img: "pencil", q: "C√°i n√†y d√πng ƒë·ªÉ l√†m g√¨?", options: ["A. ƒÇn", "B. Vi·∫øt", "C. Ch∆°i", "D. Ng·ªß"], a: "B" },
          { img: "bicycle", q: "C√°i g√¨ c√≥ 2 b√°nh v√† ƒë·∫°p b·∫±ng ch√¢n?", options: ["A. √î t√¥", "B. Xe m√°y", "C. Xe ƒë·∫°p", "D. Xe bu√Ωt"], a: "C" },
          { img: "teacher", q: "Ai l√† ng∆∞·ªùi d·∫°y h·ªçc ·ªü tr∆∞·ªùng?", options: ["A. B·∫°n", "B. C√¥ gi√°o", "C. B·∫£o v·ªá", "D. Ph·ª• huynh"], a: "B" },
          { img: "drawing", q: "B·∫°n n√†y ƒëang l√†m g√¨?", options: ["A. ƒê·ªçc", "B. Ng·ªß", "C. V·∫Ω", "D. Ch∆°i"], a: "C" },
          { img: "ball", q: "ƒê·ªì ch∆°i tr√≤n n√†y l√† g√¨?", options: ["A. B√°nh", "B. Qu·∫£ b√≥ng", "C. ƒêƒ©a", "D. B√°nh xe"], a: "B" },
          { img: "chair", q: "C√°i g√¨ d√πng ƒë·ªÉ ng·ªìi?", options: ["A. B√†n", "B. Gh·∫ø", "C. Gi∆∞·ªùng", "D. T·ªß"], a: "B" },
          { img: "chopsticks", q: "C√°i g√¨ d√πng ƒë·ªÉ ƒÉn c∆°m?", options: ["A. Th√¨a", "B. ƒê≈©a", "C. Nƒ©a", "D. Dao"], a: "B" },
          { img: "book", q: "C√°i g√¨ d√πng ƒë·ªÉ ƒë·ªçc?", options: ["A. Tivi", "B. S√°ch", "C. ƒêi·ªán tho·∫°i", "D. M√°y t√≠nh"], a: "B" },
          { img: "spoon", q: "C√°i g√¨ d√πng ƒë·ªÉ ƒÉn ch√°o?", options: ["A. ƒê≈©a", "B. Th√¨a", "C. Nƒ©a", "D. Dao"], a: "B" },
          { img: "scissors", q: "C√°i g√¨ d√πng ƒë·ªÉ c·∫Øt gi·∫•y?", options: ["A. Dao", "B. K√©o", "C. Th∆∞·ªõc", "D. B√∫t"], a: "B" },
          { img: "umbrella", q: "C√°i g√¨ d√πng khi tr·ªùi m∆∞a?", options: ["A. N√≥n", "B. √î", "C. √Åo", "D. Gi√†y"], a: "B" },
          { img: "clock", q: "C√°i g√¨ cho bi·∫øt gi·ªù?", options: ["A. L·ªãch", "B. ƒê·ªìng h·ªì", "C. Tivi", "D. Radio"], a: "B" },
          { img: "mirror", q: "C√°i g√¨ ƒë·ªÉ soi m·∫∑t?", options: ["A. K√≠nh", "B. G∆∞∆°ng", "C. Tivi", "D. N∆∞·ªõc"], a: "B" },
          { img: "broom", q: "C√°i g√¨ d√πng ƒë·ªÉ qu√©t nh√†?", options: ["A. Ch·ªïi", "B. Gi·∫ª", "C. X√¥", "D. G·∫≠y"], a: "A" },
          { img: "key", q: "C√°i g√¨ d√πng ƒë·ªÉ m·ªü c·ª≠a?", options: ["A. Tay", "B. Ch√¨a kh√≥a", "C. B√∫a", "D. Dao"], a: "B" },
          // Th√™m c√¢u h·ªèi m·ªõi kh√¥ng c·∫ßn h√¨nh
          { img: "", q: "Bu·ªïi s√°ng m√¨nh l√†m g√¨ ƒë·∫ßu ti√™n?", options: ["A. ƒÇn s√°ng", "B. Th·ª©c d·∫≠y", "C. ƒêi h·ªçc", "D. Ch∆°i"], a: "B" },
          { img: "", q: "C√°i g√¨ d√πng ƒë·ªÉ ƒë√°nh rƒÉng?", options: ["A. B√†n ch·∫£i", "B. L∆∞·ª£c", "C. KhƒÉn", "D. X√† ph√≤ng"], a: "A" },
          { img: "", q: "C√°i g√¨ d√πng ƒë·ªÉ r·ª≠a tay?", options: ["A. D·∫ßu g·ªôi", "B. Kem ƒë√°nh rƒÉng", "C. X√† ph√≤ng", "D. Kem d∆∞·ª°ng"], a: "C" },
          { img: "", q: "Bu·ªïi t·ªëi tr∆∞·ªõc khi ng·ªß n√™n l√†m g√¨?", options: ["A. Ch∆°i ƒëi·ªán t·ª≠", "B. ƒê√°nh rƒÉng", "C. ƒÇn k·∫πo", "D. Xem tivi"], a: "B" },
          { img: "", q: "Khi qua ƒë∆∞·ªùng n√™n l√†m g√¨?", options: ["A. Ch·∫°y nhanh", "B. Nghe nh·∫°c", "C. Quan s√°t c·∫©n th·∫≠n", "D. N√≥i chuy·ªán"], a: "C" },
          { img: "", q: "C√°i g√¨ gi√∫p ch√∫ng ta th·∫•y trong b√≥ng t·ªëi?", options: ["A. K√≠nh", "B. ƒê√®n", "C. G∆∞∆°ng", "D. C·ª≠a s·ªï"], a: "B" },
          { img: "", q: "·ªû tr∆∞·ªùng, ai quan tr·ªçng nh·∫•t?", options: ["A. B·∫°n b√®", "B. C√¥ gi√°o", "C. T·∫•t c·∫£ ƒë·ªÅu quan tr·ªçng", "D. Hi·ªáu tr∆∞·ªüng"], a: "C" },
          { img: "", q: "Khi ·ªëm n√™n ƒëi g·∫∑p ai?", options: ["A. Gi√°o vi√™n", "B. B√°c sƒ©", "C. B·∫°n b√®", "D. C·∫£nh s√°t"], a: "B" },
          { img: "", q: "·ªû nh√† ai n·∫•u ƒÉn ngon nh·∫•t?", options: ["A. B·ªë", "B. M·∫π", "C. √îng b√†", "D. T√πy gia ƒë√¨nh"], a: "D" },
          { img: "", q: "Vi·ªác g√¨ quan tr·ªçng nh·∫•t v·ªõi b√©?", options: ["A. Ch∆°i", "B. H·ªçc t·∫≠p", "C. Ng·ªß", "D. C·∫£ 3 ƒë·ªÅu quan tr·ªçng"], a: "D" }
        ]
      },
      tieng_anh: {
        name: 'üá∫üá∏ Ti·∫øng Anh',
        color: '#9b59b6',
        questions: [
          { img: "apple_en", q: "Qu·∫£ t√°o ti·∫øng Anh l√† g√¨?", options: ["A. Apple", "B. Orange", "C. Banana", "D. Grape"], a: "A" },
          { img: "red_color", q: "M√†u ƒë·ªè ti·∫øng Anh l√† g√¨?", options: ["A. Blue", "B. Red", "C. Green", "D. Yellow"], a: "B" },
          { img: "yellow_color", q: "M√†u v√†ng ti·∫øng Anh l√† g√¨?", options: ["A. Red", "B. Blue", "C. Yellow", "D. Green"], a: "C" },
          { img: "cat_en", q: "Con m√®o ti·∫øng Anh l√† g√¨?", options: ["A. Dog", "B. Cat", "C. Bird", "D. Fish"], a: "B" },
          { img: "dog_en", q: "Con ch√≥ ti·∫øng Anh l√† g√¨?", options: ["A. Dog", "B. Cat", "C. Bird", "D. Fish"], a: "A" },
          { img: "number_5_en", q: "S·ªë 5 ti·∫øng Anh l√† g√¨?", options: ["A. Four", "B. Five", "C. Six", "D. Seven"], a: "B" },
          { img: "orange_fruit", q: "Tr√°i cam ti·∫øng Anh l√† g√¨?", options: ["A. Apple", "B. Orange", "C. Banana", "D. Grape"], a: "B" },
          { img: "green_color", q: "M√†u xanh l√° ti·∫øng Anh l√† g√¨?", options: ["A. Red", "B. Blue", "C. Green", "D. Yellow"], a: "C" },
          // Th√™m c√¢u h·ªèi m·ªõi kh√¥ng c·∫ßn h√¨nh
          { img: "", q: "Hello c√≥ nghƒ©a l√† g√¨?", options: ["A. T·∫°m bi·ªát", "B. Xin ch√†o", "C. C·∫£m ∆°n", "D. Xin l·ªói"], a: "B" },
          { img: "", q: "Thank you c√≥ nghƒ©a l√† g√¨?", options: ["A. Xin ch√†o", "B. T·∫°m bi·ªát", "C. C·∫£m ∆°n", "D. Xin l·ªói"], a: "C" },
          { img: "", q: "Goodbye c√≥ nghƒ©a l√† g√¨?", options: ["A. Xin ch√†o", "B. T·∫°m bi·ªát", "C. C·∫£m ∆°n", "D. Xin l·ªói"], a: "B" },
          { img: "", q: "Sorry c√≥ nghƒ©a l√† g√¨?", options: ["A. Xin ch√†o", "B. T·∫°m bi·ªát", "C. C·∫£m ∆°n", "D. Xin l·ªói"], a: "D" },
          { img: "", q: "Water c√≥ nghƒ©a l√† g√¨?", options: ["A. N∆∞·ªõc", "B. S·ªØa", "C. Tr√†", "D. C√† ph√™"], a: "A" },
          { img: "", q: "Book c√≥ nghƒ©a l√† g√¨?", options: ["A. B√∫t", "B. S√°ch", "C. B√†n", "D. Gh·∫ø"], a: "B" },
          { img: "", q: "Pen c√≥ nghƒ©a l√† g√¨?", options: ["A. B√∫t", "B. S√°ch", "C. B√†n", "D. Gh·∫ø"], a: "A" },
          { img: "", q: "House c√≥ nghƒ©a l√† g√¨?", options: ["A. Tr∆∞·ªùng", "B. Nh√†", "C. C√¥ng vi√™n", "D. C·ª≠a h√†ng"], a: "B" },
          { img: "", q: "School c√≥ nghƒ©a l√† g√¨?", options: ["A. Tr∆∞·ªùng", "B. Nh√†", "C. C√¥ng vi√™n", "D. C·ª≠a h√†ng"], a: "A" },
          { img: "", q: "Mother c√≥ nghƒ©a l√† g√¨?", options: ["A. B·ªë", "B. M·∫π", "C. Anh", "D. Em"], a: "B" },
          { img: "", q: "Father c√≥ nghƒ©a l√† g√¨?", options: ["A. B·ªë", "B. M·∫π", "C. Anh", "D. Em"], a: "A" },
          { img: "", q: "Sun c√≥ nghƒ©a l√† g√¨?", options: ["A. M·∫∑t trƒÉng", "B. M·∫∑t tr·ªùi", "C. Ng√¥i sao", "D. M√¢y"], a: "B" },
          { img: "", q: "Moon c√≥ nghƒ©a l√† g√¨?", options: ["A. M·∫∑t trƒÉng", "B. M·∫∑t tr·ªùi", "C. Ng√¥i sao", "D. M√¢y"], a: "A" },
          { img: "", q: "Big c√≥ nghƒ©a l√† g√¨?", options: ["A. Nh·ªè", "B. To", "C. Cao", "D. Th·∫•p"], a: "B" },
          { img: "", q: "Small c√≥ nghƒ©a l√† g√¨?", options: ["A. Nh·ªè", "B. To", "C. Cao", "D. Th·∫•p"], a: "A" },
          { img: "", q: "Yes c√≥ nghƒ©a l√† g√¨?", options: ["A. Kh√¥ng", "B. C√≥/ƒê√∫ng", "C. C√≥ th·ªÉ", "D. Kh√¥ng bi·∫øt"], a: "B" },
          { img: "", q: "No c√≥ nghƒ©a l√† g√¨?", options: ["A. Kh√¥ng", "B. C√≥/ƒê√∫ng", "C. C√≥ th·ªÉ", "D. Kh√¥ng bi·∫øt"], a: "A" }
        ]
      },
      mau_sac: {
        name: 'üé® M√†u s·∫Øc',
        color: '#1abc9c',
        questions: [
          { img: "color_red", q: "ƒê√¢y l√† m√†u g√¨?", options: ["A. Xanh", "B. ƒê·ªè", "C. V√†ng", "D. T√≠m"], a: "B" },
          { img: "color_yellow", q: "ƒê√¢y l√† m√†u g√¨?", options: ["A. ƒê·ªè", "B. Xanh", "C. V√†ng", "D. T√≠m"], a: "C" },
          { img: "color_blue", q: "ƒê√¢y l√† m√†u g√¨?", options: ["A. ƒê·ªè", "B. Xanh", "C. V√†ng", "D. T√≠m"], a: "B" },
          { img: "triangle", q: "H√¨nh tam gi√°c c√≥ m·∫•y c·∫°nh?", options: ["A. 2", "B. 3", "C. 4", "D. 5"], a: "B" },
          { img: "circle", q: "ƒê√¢y l√† h√¨nh g√¨?", options: ["A. Vu√¥ng", "B. Tr√≤n", "C. Tam gi√°c", "D. Ch·ªØ nh·∫≠t"], a: "B" },
          { img: "square", q: "ƒê√¢y l√† h√¨nh g√¨?", options: ["A. Vu√¥ng", "B. Tr√≤n", "C. Tam gi√°c", "D. Ch·ªØ nh·∫≠t"], a: "A" },
          { img: "color_purple", q: "M√†u t√≠m ti·∫øng Anh l√† g√¨?", options: ["A. Pink", "B. Purple", "C. Brown", "D. Orange"], a: "B" },
          { img: "star", q: "ƒê√¢y l√† h√¨nh g√¨?", options: ["A. Tr√≤n", "B. Vu√¥ng", "C. Ng√¥i sao", "D. Tim"], a: "C" },
          { img: "heart", q: "ƒê√¢y l√† h√¨nh g√¨?", options: ["A. Tim", "B. Vu√¥ng", "C. Tr√≤n", "D. Ng√¥i sao"], a: "A" },
          { img: "diamond", q: "ƒê√¢y l√† h√¨nh g√¨?", options: ["A. Vu√¥ng", "B. Kim c∆∞∆°ng", "C. Tr√≤n", "D. Tam gi√°c"], a: "B" },
          { img: "colors_mix", q: "ƒê·ªè + V√†ng = m√†u g√¨?", options: ["A. Xanh", "B. Cam", "C. T√≠m", "D. H·ªìng"], a: "B" },
          { img: "rainbow", q: "C·∫ßu v·ªìng c√≥ bao nhi√™u m√†u ch√≠nh?", options: ["A. 5", "B. 6", "C. 7", "D. 8"], a: "C" },
          { img: "same_different", q: "H√¨nh n√†o kh√°c?", options: ["A. H√¨nh 1", "B. H√¨nh 2", "C. H√¨nh 3", "D. Gi·ªëng nhau"], a: "B" },
          { img: "big_small_color", q: "H√¨nh tr√≤n n√†o l·ªõn nh·∫•t?", options: ["A. ƒê·ªè", "B. Xanh", "C. V√†ng", "D. Gi·ªëng nhau"], a: "C" }
        ]
      },
      gia_dinh: {
        name: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Gia ƒë√¨nh',
        color: '#e67e22',
        questions: [
          { img: "mother", q: "Ai l√† ng∆∞·ªùi sinh ra b√©?", options: ["A. B√†", "B. M·∫π", "C. C√¥", "D. Ch·ªã"], a: "B" },
          { img: "father", q: "Ai ƒëi l√†m ki·∫øm ti·ªÅn nu√¥i gia ƒë√¨nh?", options: ["A. B·ªë", "B. Anh", "C. Em", "D. √îng"], a: "A" },
          { img: "eye", q: "C√°i g√¨ d√πng ƒë·ªÉ nh√¨n?", options: ["A. Tai", "B. M≈©i", "C. M·∫Øt", "D. Mi·ªáng"], a: "C" },
          { img: "ear", q: "C√°i g√¨ d√πng ƒë·ªÉ nghe?", options: ["A. M·∫Øt", "B. Tai", "C. M≈©i", "D. Mi·ªáng"], a: "B" },
          { img: "mouth", q: "C√°i g√¨ d√πng ƒë·ªÉ ƒÉn?", options: ["A. M·∫Øt", "B. Tai", "C. M≈©i", "D. Mi·ªáng"], a: "D" },
          { img: "hand_five", q: "M·ªôt b√†n tay c√≥ m·∫•y ng√≥n?", options: ["A. 4", "B. 5", "C. 6", "D. 3"], a: "B" },
          { img: "feet", q: "C√°i g√¨ d√πng ƒë·ªÉ ƒëi?", options: ["A. Tay", "B. M·∫Øt", "C. Ch√¢n", "D. Tai"], a: "C" },
          { img: "hands", q: "C√°i g√¨ d√πng ƒë·ªÉ c·∫ßm n·∫Øm?", options: ["A. Tay", "B. Ch√¢n", "C. M·∫Øt", "D. Tai"], a: "A" }
        ]
      },
      an_toan_giao_thong: {
        name: 'üö¶ An to√†n giao th√¥ng',
        color: '#34495e',
        questions: [
          { img: "traffic_light_red", q: "Khi ƒë√®n ƒë·ªè b√© ph·∫£i l√†m g√¨?", options: ["A. Ch·∫°y qua", "B. D·ª´ng l·∫°i", "C. ƒêi ch·∫≠m", "D. Nh√¨n tr√°i ph·∫£i"], a: "B" },
          { img: "traffic_light_green", q: "Khi ƒë√®n xanh b√© c√≥ th·ªÉ l√†m g√¨?", options: ["A. D·ª´ng l·∫°i", "B. ƒêi qua", "C. Ch·∫°y nhanh", "D. Quay l·∫°i"], a: "B" },
          { img: "crosswalk", q: "B√© n√™n qua ƒë∆∞·ªùng ·ªü ƒë√¢u?", options: ["A. Ch·ªó n√†o c≈©ng ƒë∆∞·ª£c", "B. V·∫°ch k·∫ª ƒë∆∞·ªùng", "C. Gi·ªØa ƒë∆∞·ªùng", "D. G√≥c ph·ªë"], a: "B" },
          { img: "look_left_right", q: "Tr∆∞·ªõc khi qua ƒë∆∞·ªùng b√© ph·∫£i l√†m g√¨?", options: ["A. Ch·∫°y th·∫≥ng", "B. Nh√¨n tr√°i ph·∫£i", "C. ƒê·ª©ng y√™n", "D. G·ªçi to"], a: "B" },
          { img: "helmet", q: "Khi ƒëi xe ƒë·∫°p b√© n√™n ƒë·ªôi g√¨?", options: ["A. N√≥n l√°", "B. M≈© l∆∞·ª°i trai", "C. M≈© b·∫£o hi·ªÉm", "D. KhƒÉn"], a: "C" },
          { img: "seat_belt", q: "Khi ng·ªìi tr√™n √¥ t√¥ b√© ph·∫£i l√†m g√¨?", options: ["A. Th·∫Øt d√¢y an to√†n", "B. ƒê·ª©ng l√™n", "C. N·∫±m xu·ªëng", "D. Nh·∫£y nh√≥t"], a: "A" },
          { img: "stop_sign", q: "Bi·ªÉn b√°o n√†y c√≥ nghƒ©a l√† g√¨?", options: ["A. ƒêi nhanh", "B. D·ª´ng l·∫°i", "C. R·∫Ω tr√°i", "D. Quay ƒë·∫ßu"], a: "B" },
          { img: "school_zone", q: "G·∫ßn tr∆∞·ªùng h·ªçc xe c·ªô ph·∫£i l√†m g√¨?", options: ["A. ƒêi nhanh", "B. ƒêi ch·∫≠m", "C. D·ª´ng h·∫≥n", "D. B·∫•m c√≤i"], a: "B" },
          { img: "hold_hand", q: "Khi qua ƒë∆∞·ªùng b√© n√™n l√†m g√¨?", options: ["A. Ch·∫°y m·ªôt m√¨nh", "B. N·∫Øm tay ng∆∞·ªùi l·ªõn", "C. Nh·∫£y c√≥c", "D. Ng·ªìi xu·ªëng"], a: "B" },
          { img: "sidewalk", q: "B√© n√™n ƒëi b·ªô ·ªü ƒë√¢u?", options: ["A. Gi·ªØa ƒë∆∞·ªùng", "B. V·ªâa h√®", "C. ƒê∆∞·ªùng √¥ t√¥", "D. Ch·ªó n√†o c≈©ng ƒë∆∞·ª£c"], a: "B" },
          { img: "car_seat", q: "Tr·∫ª em d∆∞·ªõi 12 tu·ªïi n√™n ng·ªìi ·ªü ƒë√¢u tr√™n √¥ t√¥?", options: ["A. Gh·∫ø tr∆∞·ªõc", "B. Gh·∫ø sau", "C. ƒê·ª©ng gi·ªØa", "D. Ngo√†i c·ª≠a s·ªï"], a: "B" },
          { img: "bicycle_lane", q: "Khi ƒëi xe ƒë·∫°p n√™n ƒëi ·ªü ƒë√¢u?", options: ["A. V·ªâa h√®", "B. L√†n xe ƒë·∫°p", "C. Gi·ªØa ƒë∆∞·ªùng", "D. Ng∆∞·ª£c chi·ªÅu"], a: "B" },
          { img: "traffic_police", q: "Khi c·∫£nh s√°t giao th√¥ng ra hi·ªáu d·ª´ng, b√© ph·∫£i l√†m g√¨?", options: ["A. Ti·∫øp t·ª•c ƒëi", "B. D·ª´ng l·∫°i", "C. Ch·∫°y nhanh", "D. Quay ƒë·∫ßu"], a: "B" },
          { img: "reflective_vest", q: "Khi ƒëi b·ªô ban ƒë√™m n√™n m·∫∑c g√¨?", options: ["A. √Åo ƒëen", "B. √Åo ph·∫£n quang", "C. √Åo b√¨nh th∆∞·ªùng", "D. Kh√¥ng c·∫ßn g√¨"], a: "B" },
          { img: "phone_crossing", q: "Khi qua ƒë∆∞·ªùng c√≥ n√™n d√πng ƒëi·ªán tho·∫°i kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. T√πy √Ω", "D. Ch·ªâ nghe nh·∫°c"], a: "B" }
        ]
      },
      an_toan_cuoc_song: {
        name: '‚ö° An to√†n cu·ªôc s·ªëng',
        color: '#e74c3c',
        questions: [
          { img: "electric_plug", q: "C√≥ ƒë∆∞·ª£c ch·∫°m v√†o ·ªï c·∫Øm ƒëi·ªán kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. T√πy √Ω", "D. Ch·ªâ khi t·∫Øt ƒëi·ªán"], a: "B" },
          { img: "wet_hands_electric", q: "C√≥ ƒë∆∞·ª£c ch·∫°m thi·∫øt b·ªã ƒëi·ªán khi tay ∆∞·ªõt kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. Kh√¥ng sao", "D. Ch·ªâ m·ªôt ch√∫t"], a: "B" },
          { img: "knife_danger", q: "Tr·∫ª em c√≥ ƒë∆∞·ª£c ch∆°i v·ªõi dao kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. Khi c√≥ ng∆∞·ªùi l·ªõn", "D. Dao nh·ªè th√¨ ƒë∆∞·ª£c"], a: "B" },
          { img: "fire_danger", q: "Khi th·∫•y l·ª≠a b√© ph·∫£i l√†m g√¨?", options: ["A. Ch·∫°y l·∫°i g·∫ßn", "B. Tr√°nh xa v√† b√°o ng∆∞·ªùi l·ªõn", "C. Th·ªïi t·∫Øt", "D. ƒê·ªï n∆∞·ªõc"], a: "B" },
          { img: "swimming_adult", q: "Khi b∆°i b√© ph·∫£i c√≥ ai ƒëi c√πng?", options: ["A. M·ªôt m√¨nh", "B. Ng∆∞·ªùi l·ªõn", "C. B·∫°n b√®", "D. Kh√¥ng c·∫ßn ai"], a: "B" },
          { img: "deep_water", q: "C√≥ ƒë∆∞·ª£c b∆°i ·ªü ch·ªó n∆∞·ªõc s√¢u kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. N·∫øu b∆°i gi·ªèi", "D. C√≥ phao th√¨ ƒë∆∞·ª£c"], a: "B" },
          { img: "hot_stove", q: "C√≥ ƒë∆∞·ª£c ch·∫°m v√†o b·∫øp n√≥ng kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. Nhanh th√¥i", "D. Khi t·∫Øt b·∫øp"], a: "B" },
          { img: "cleaning_chemicals", q: "C√≥ ƒë∆∞·ª£c u·ªëng n∆∞·ªõc t·∫©y r·ª≠a kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. M·ªôt ch√∫t th√¥i", "D. Pha lo√£ng"], a: "B" },
          { img: "window_height", q: "C√≥ ƒë∆∞·ª£c tr√®o l√™n c·ª≠a s·ªï cao kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. C√≥ lan can", "D. C√≥ ng∆∞·ªùi gi·ªØ"], a: "B" },
          { img: "stranger_danger", q: "C√≥ ƒë∆∞·ª£c ƒëi theo ng∆∞·ªùi l·∫° kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. Ng∆∞·ªùi t·ªët th√¨ ƒë∆∞·ª£c", "D. C√≥ k·∫πo th√¨ ƒë∆∞·ª£c"], a: "B" },
          { img: "medicine_bottle", q: "C√≥ ƒë∆∞·ª£c t·ª± √Ω u·ªëng thu·ªëc kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. Khi ƒëau", "D. Thu·ªëc ng·ªçt th√¨ ƒë∆∞·ª£c"], a: "B" },
          { img: "sharp_objects", q: "Khi th·∫•y ƒë·ªì v·∫≠t nh·ªçn n√™n l√†m g√¨?", options: ["A. C·∫ßm l√™n ch∆°i", "B. Tr√°nh xa", "C. N√©m ƒëi", "D. Gi·∫•u ƒëi"], a: "B" },
          { img: "balcony_danger", q: "C√≥ ƒë∆∞·ª£c leo l√™n lan can ban c√¥ng kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. Ban c√¥ng th·∫•p", "D. C√≥ ng∆∞·ªùi gi·ªØ"], a: "B" },
          { img: "gas_stove", q: "Tr·∫ª em c√≥ ƒë∆∞·ª£c m·ªü b·∫øp gas kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. Khi ƒë√≥i", "D. Bi·∫øt c√°ch d√πng"], a: "B" },
          { img: "elevator_safety", q: "Khi thang m√°y m·ªü c·ª≠a, n√™n l√†m g√¨?", options: ["A. Ch·∫°y v√†o nhanh", "B. ƒê·ª£i ng∆∞·ªùi ra h·∫øt", "C. Nh·∫£y v√†o", "D. √âp c·ª≠a"], a: "B" },
          { img: "playground_safety", q: "Khi ch∆°i ·ªü s√¢n ch∆°i n√™n l√†m g√¨?", options: ["A. Ch∆°i t√πy √Ω", "B. Tu√¢n th·ªß an to√†n", "C. Ch·∫°y nh·∫£y lung tung", "D. Kh√¥ng c·∫ßn ch√∫ √Ω"], a: "B" },
          { img: "car_hot", q: "C√≥ ƒë∆∞·ª£c ·ªü trong xe khi tr·ªùi n√≥ng kh√¥ng?", options: ["A. C√≥", "B. Kh√¥ng", "C. Ch·ªâ m·ªôt l√∫c", "D. M·ªü c·ª≠a s·ªï"], a: "B" },
          { img: "emergency_number", q: "S·ªë ƒëi·ªán tho·∫°i kh·∫©n c·∫•p l√† g√¨?", options: ["A. 911", "B. 113", "C. 123", "D. 456"], a: "B" }
        ]
      },
      tat_ca_chu_de: {
        name: 'üé≤ T·∫•t c·∫£ ch·ªß ƒë·ªÅ',
        color: '#8e44ad',
        questions: [] // S·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông t·ª´ t·∫•t c·∫£ ch·ªß ƒë·ªÅ kh√°c
      },
      tu_duy: {
        name: 'üß† T∆∞ duy',
        color: '#9b59b6',
        questions: [
          // T∆∞ duy logic v√† suy lu·∫≠n
          { img: "pattern_sequence", q: "H√¨nh n√†o ti·∫øp theo? ‚≠êüåô‚≠êüåô?", options: ["A. ‚≠ê", "B. üåô", "C. ‚òÄÔ∏è", "D. üåü"], a: "A" },
          { img: "shape_pattern", q: "Ti·∫øp theo l√† g√¨? üî¥üîµüü°üî¥üîµ?", options: ["A. üî¥", "B. üîµ", "C. üü°", "D. üü¢"], a: "C" },
          { img: "number_sequence", q: "S·ªë ti·∫øp theo: 2, 4, 6, 8, ?", options: ["A. 9", "B. 10", "C. 11", "D. 12"], a: "B" },
          { img: "size_pattern", q: "K√≠ch th∆∞·ªõc ti·∫øp theo: Nh·ªè, V·ª´a, L·ªõn, ?", options: ["A. Nh·ªè", "B. V·ª´a", "C. L·ªõn", "D. R·∫•t l·ªõn"], a: "A" },
          
          // So s√°nh v√† ph√¢n lo·∫°i
          { img: "animal_group", q: "Con n√†o kh√°c nh√≥m? üê∂üê±üê≠üå≥", options: ["A. üê∂", "B. üê±", "C. üê≠", "D. üå≥"], a: "D" },
          { img: "fruit_group", q: "C√°i n√†o kh√¥ng ph·∫£i tr√°i c√¢y? üçéüçåü•ïüçä", options: ["A. üçé", "B. üçå", "C. ü•ï", "D. üçä"], a: "C" },
          { img: "transport_group", q: "C√°i n√†o kh√¥ng ph·∫£i ph∆∞∆°ng ti·ªán? üöóüö≤üè†‚úàÔ∏è", options: ["A. üöó", "B. üö≤", "C. üè†", "D. ‚úàÔ∏è"], a: "C" },
          { img: "color_group", q: "M√†u n√†o kh√°c nh√≥m? ƒê·ªè-Xanh-V√†ng-To", options: ["A. ƒê·ªè", "B. Xanh", "C. V√†ng", "D. To"], a: "D" },
          
          // T∆∞ duy kh√¥ng gian
          { img: "mirror_image", q: "H√¨nh n√†o l√† ·∫£nh ph·∫£n chi·∫øu c·ªßa üëà?", options: ["A. üëà", "B. üëâ", "C. üëÜ", "D. üëá"], a: "B" },
          { img: "rotation", q: "Xoay üî∫ 90 ƒë·ªô ph·∫£i th√†nh g√¨?", options: ["A. üî∫", "B. ‚óÄÔ∏è", "C. ‚ñ∂Ô∏è", "D. üîª"], a: "C" },
          { img: "shadow_match", q: "B√≥ng c·ªßa üè† tr√¥ng nh∆∞ th·∫ø n√†o?", options: ["A. ‚¨õ", "B. ‚¨ú", "C. üü´", "D. üî∑"], a: "A" },
          
          // T∆∞ duy to√°n h·ªçc ƒë∆°n gi·∫£n
          { img: "counting_logic", q: "N·∫øu c√≥ 3 qu·∫£ t√°o, ƒÉn 1 qu·∫£, c√≤n m·∫•y?", options: ["A. 1", "B. 2", "C. 3", "D. 4"], a: "B" },
          { img: "more_less_logic", q: "5 > ? > 2, s·ªë n√†o ph√π h·ª£p?", options: ["A. 1", "B. 3", "C. 6", "D. 7"], a: "B" },
          { img: "equal_groups", q: "Chia ƒë·ªÅu 6 k·∫πo cho 2 b·∫°n, m·ªói b·∫°n c√≥ m·∫•y vi√™n?", options: ["A. 2", "B. 3", "C. 4", "D. 6"], a: "B" },
          
          // T∆∞ duy ng√¥n ng·ªØ
          { img: "rhyme_words", q: "T·ª´ n√†o v·∫ßn v·ªõi 'm√®o'?", options: ["A. ch√≥", "B. ƒë√®o", "C. c√°", "D. g√†"], a: "B" },
          { img: "opposite_word", q: "Tr√°i nghƒ©a c·ªßa 'to' l√† g√¨?", options: ["A. l·ªõn", "B. nh·ªè", "C. cao", "D. d√†i"], a: "B" },
          { img: "word_category", q: "T·ª´ n√†o c√πng nh√≥m v·ªõi 's√°ch'?", options: ["A. b√∫t", "B. ƒÉn", "C. ch·∫°y", "D. ƒë·∫πp"], a: "A" },
          
          // Gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ ƒë∆°n gi·∫£n
          { img: "problem_solving1", q: "Mu·ªën l·∫•y ƒë·ªì ch∆°i ·ªü tr√™n cao, b√© n√™n l√†m g√¨?", options: ["A. Nh·∫£y", "B. Leo l√™n gh·∫ø", "C. Nh·ªù ng∆∞·ªùi l·ªõn", "D. N√©m ƒë√°"], a: "C" },
          { img: "problem_solving2", q: "Khi tr·ªùi m∆∞a m√† qu√™n √¥, b√© n√™n l√†m g√¨?", options: ["A. Ch·∫°y nhanh", "B. ƒê·ª©ng ch·ªù", "C. T√¨m ch·ªó che", "D. Kh√¥ng sao"], a: "C" },
          { img: "problem_solving3", q: "N·∫øu b·ªã l·∫°c, b√© n√™n l√†m g√¨ ƒë·∫ßu ti√™n?", options: ["A. Kh√≥c", "B. T√¨m ng∆∞·ªùi l·ªõn", "C. V·ªÅ nh√†", "D. Ch∆°i ti·∫øp"], a: "B" },
          
          // C√¢u h·ªèi kh√¥ng c·∫ßn h√¨nh - t∆∞ duy n√¢ng cao
          { img: "", q: "G√¨ to h∆°n nh√† m√† nh·∫π h∆°n l√¥ng?", options: ["A. Xe √¥ t√¥", "B. B√≥ng bay", "C. B√≥ng c·ªßa nh√†", "D. C√¢y to"], a: "C" },
          { img: "", q: "C√°i g√¨ c√≥ ch√¢n m√† kh√¥ng ƒëi ƒë∆∞·ª£c?", options: ["A. Ng∆∞·ªùi qu√®", "B. B√†n gh·∫ø", "C. Ch√≥ b·ªã th∆∞∆°ng", "D. Robot h·ªèng"], a: "B" },
          { img: "", q: "ƒêi·ªÅu g√¨ x·∫£y ra tr∆∞·ªõc? G√† hay tr·ª©ng?", options: ["A. G√†", "B. Tr·ª©ng", "C. C√πng l√∫c", "D. Kh√¥ng bi·∫øt"], a: "D" },
          { img: "", q: "N·∫øu h√¥m nay l√† th·ª© 2, h√¥m qua l√† th·ª© m·∫•y?", options: ["A. Ch·ªß nh·∫≠t", "B. Th·ª© 3", "C. Th·ª© 7", "D. Th·ª© 6"], a: "A" },
          { img: "", q: "Con g√¨ v·ª´a ƒëi ƒë∆∞·ª£c v·ª´a bay ƒë∆∞·ª£c?", options: ["A. Chim", "B. M√°y bay", "C. Con ng∆∞·ªùi", "D. Ong"], a: "D" },
          { img: "", q: "Khi n√†o 1 + 1 = 1?", options: ["A. Kh√¥ng bao gi·ªù", "B. 1 gi·ªçt n∆∞·ªõc + 1 gi·ªçt n∆∞·ªõc", "C. Khi t√≠nh sai", "D. Trong m∆°"], a: "B" },
          { img: "", q: "C√°i g√¨ c√†ng chia c√†ng nhi·ªÅu?", options: ["A. Ti·ªÅn", "B. K·∫πo", "C. Ni·ªÅm vui", "D. ƒê·ªì ƒÉn"], a: "C" },
          { img: "", q: "T·∫°i sao hoa h∆∞·ªõng d∆∞∆°ng h∆∞·ªõng v·ªÅ m·∫∑t tr·ªùi?", options: ["A. ƒê·ªÉ ƒë·∫πp", "B. ƒê·ªÉ l·∫•y √°nh s√°ng", "C. T·ª± nhi√™n", "D. Ng∆∞·ªùi ta tr·ªìng v·∫≠y"], a: "B" },
          { img: "", q: "ƒêi·ªÅu g√¨ s·∫Ω x·∫£y ra n·∫øu kh√¥ng c√≥ m·∫∑t tr·ªùi?", options: ["A. Tr√°i ƒë·∫•t t·ªëi", "B. C√¢y ch·∫øt", "C. L·∫°nh l·∫Øm", "D. T·∫•t c·∫£ ƒë·ªÅu ƒë√∫ng"], a: "D" },
          { img: "", q: "T·∫°i sao c·∫ßn ng·ªß?", options: ["A. ƒê·ªÉ l∆∞·ªùi", "B. ƒê·ªÉ ngh·ªâ ng∆°i", "C. V√¨ bu·ªìn ch√°n", "D. V√¨ ƒë√™m t·ªëi"], a: "B" },
          { img: "", q: "L√†m sao ƒë·ªÉ n∆∞·ªõc ƒë√° th√†nh n∆∞·ªõc?", options: ["A. ƒêun n√≥ng", "B. ƒê·ªÉ ngo√†i tr·ªùi", "C. C·∫£ A v√† B", "D. Kh√¥ng th·ªÉ"], a: "C" },
          { img: "", q: "T·∫°i sao c·∫ßu v·ªìng c√≥ nhi·ªÅu m√†u?", options: ["A. Ng∆∞·ªùi v·∫Ω", "B. √Ånh s√°ng kh√∫c x·∫°", "C. Ph√©p m√†u", "D. T·ª± nhi√™n"], a: "B" },
          { img: "", q: "N·∫øu con v·∫≠t n√†o th√¥ng minh nh·∫•t?", options: ["A. Kh·ªâ", "B. C√° heo", "C. Con ng∆∞·ªùi", "D. Ch√≥"], a: "C" },
          { img: "", q: "ƒêi·ªÅu g√¨ quan tr·ªçng nh·∫•t v·ªõi b√©?", options: ["A. ƒê·ªì ch∆°i", "B. H·ªçc h·ªèi", "C. Y√™u th∆∞∆°ng", "D. T·∫•t c·∫£"], a: "C" }
        ]
      }
    };

    // T·∫°o questionSets t·ª´ TOPICS_CONFIG ƒë·ªÉ t∆∞∆°ng th√≠ch v·ªõi code c≈©
    const questionSets = {};
    Object.keys(TOPICS_CONFIG).forEach(key => {
      questionSets[key] = TOPICS_CONFIG[key].questions;
    });

    // ===== H·ªÜ TH·ªêNG RANDOM C√ÇU H·ªéI =====
    function getRandomQuestions(topicKey, count = 20) {
      if (topicKey === 'tat_ca_chu_de') {
        // L·∫•y t·∫•t c·∫£ c√¢u h·ªèi t·ª´ t·∫•t c·∫£ ch·ªß ƒë·ªÅ (tr·ª´ ch√≠nh n√≥)
        const allQuestions = [];
        Object.keys(TOPICS_CONFIG).forEach(key => {
          if (key !== 'tat_ca_chu_de') {
            allQuestions.push(...TOPICS_CONFIG[key].questions);
          }
        });
        return shuffleArray(allQuestions).slice(0, count);
      } else {
        // L·∫•y c√¢u h·ªèi t·ª´ ch·ªß ƒë·ªÅ c·ª• th·ªÉ
        const topicQuestions = TOPICS_CONFIG[topicKey]?.questions || [];
        if (topicQuestions.length <= count) {
          // N·∫øu kh√¥ng ƒë·ªß c√¢u h·ªèi, l·∫∑p l·∫°i
          const repeated = [];
          while (repeated.length < count) {
            repeated.push(...topicQuestions);
          }
          return shuffleArray(repeated).slice(0, count);
        } else {
          // N·∫øu ƒë·ªß c√¢u h·ªèi, ch·ªçn ng·∫´u nhi√™n
          return shuffleArray([...topicQuestions]).slice(0, count);
        }
      }
    }

    function shuffleArray(array) {
      const shuffled = [...array];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }

    // H√†m t·∫°o h√¨nh SVG local
    function createSVGImage(type) {
      const svgImages = {
        // To√°n h·ªçc
        'number_1': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="120" font-weight="bold" font-family="Arial">1</text></svg>`,
        'number_2': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="120" font-weight="bold" font-family="Arial">2</text></svg>`,
        'number_4': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="120" font-weight="bold" font-family="Arial">4</text></svg>`,
        'number_6': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="120" font-weight="bold" font-family="Arial">6</text></svg>`,
        'number_7': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="120" font-weight="bold" font-family="Arial">7</text></svg>`,
        'number_9': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="120" font-weight="bold" font-family="Arial">9</text></svg>`,
        'one_dot': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="25" fill="#3498db"/></svg>`,
        'three_dots': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="70" cy="100" r="20" fill="#3498db"/><circle cx="100" cy="100" r="20" fill="#3498db"/><circle cx="130" cy="100" r="20" fill="#3498db"/></svg>`,
        'four_dots': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="75" cy="75" r="18" fill="#3498db"/><circle cx="125" cy="75" r="18" fill="#3498db"/><circle cx="75" cy="125" r="18" fill="#3498db"/><circle cx="125" cy="125" r="18" fill="#3498db"/></svg>`,
        'five_dots': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="75" cy="75" r="15" fill="#3498db"/><circle cx="125" cy="75" r="15" fill="#3498db"/><circle cx="100" cy="100" r="15" fill="#3498db"/><circle cx="75" cy="125" r="15" fill="#3498db"/><circle cx="125" cy="125" r="15" fill="#3498db"/></svg>`,
        'two_plus_one': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="30" y="80" fill="#2c3e50" font-size="40" font-family="Arial">2</text><text x="60" y="80" fill="#e74c3c" font-size="40" font-family="Arial">+</text><text x="90" y="80" fill="#2c3e50" font-size="40" font-family="Arial">1</text><text x="120" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="150" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'three_plus_one': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="30" y="80" fill="#2c3e50" font-size="40" font-family="Arial">3</text><text x="60" y="80" fill="#e74c3c" font-size="40" font-family="Arial">+</text><text x="90" y="80" fill="#2c3e50" font-size="40" font-family="Arial">1</text><text x="120" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="150" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'two_plus_two': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="30" y="80" fill="#2c3e50" font-size="40" font-family="Arial">2</text><text x="60" y="80" fill="#e74c3c" font-size="40" font-family="Arial">+</text><text x="90" y="80" fill="#2c3e50" font-size="40" font-family="Arial">2</text><text x="120" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="150" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'five_minus_one': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="30" y="80" fill="#2c3e50" font-size="40" font-family="Arial">5</text><text x="60" y="80" fill="#e74c3c" font-size="40" font-family="Arial">-</text><text x="90" y="80" fill="#2c3e50" font-size="40" font-family="Arial">1</text><text x="120" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="150" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'four_minus_two': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="30" y="80" fill="#2c3e50" font-size="40" font-family="Arial">4</text><text x="60" y="80" fill="#e74c3c" font-size="40" font-family="Arial">-</text><text x="90" y="80" fill="#2c3e50" font-size="40" font-family="Arial">2</text><text x="120" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="150" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'ten_minus_five': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="20" y="80" fill="#2c3e50" font-size="35" font-family="Arial">10</text><text x="60" y="80" fill="#e74c3c" font-size="35" font-family="Arial">-</text><text x="90" y="80" fill="#2c3e50" font-size="35" font-family="Arial">5</text><text x="120" y="80" fill="#e74c3c" font-size="35" font-family="Arial">=</text><text x="150" y="80" fill="#27ae60" font-size="35" font-family="Arial">?</text></svg>`,
        'circle_shape': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="50" fill="#3498db" stroke="#2980b9" stroke-width="4"/></svg>`,
        'square_shape': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="50" y="50" width="100" height="100" fill="#e74c3c" stroke="#c0392b" stroke-width="4"/></svg>`,
        'triangle_shape': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><polygon points="100,50 150,150 50,150" fill="#27ae60" stroke="#229954" stroke-width="4"/></svg>`,
        'rectangle_shape': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="40" y="75" width="120" height="50" fill="#f39c12" stroke="#e67e22" stroke-width="4"/></svg>`,
        'number_5': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="120" font-weight="bold" font-family="Arial">5</text></svg>`,
        'two_dots': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="70" cy="100" r="25" fill="#3498db"/><circle cx="130" cy="100" r="25" fill="#3498db"/></svg>`,
        'math_plus': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="40" y="80" fill="#2c3e50" font-size="40" font-family="Arial">2</text><text x="70" y="80" fill="#e74c3c" font-size="40" font-family="Arial">+</text><text x="100" y="80" fill="#2c3e50" font-size="40" font-family="Arial">3</text><text x="130" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="160" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'three_apples': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="50" cy="100" r="20" fill="#e74c3c"/><circle cx="100" cy="100" r="20" fill="#e74c3c"/><circle cx="150" cy="100" r="20" fill="#e74c3c"/><rect x="45" y="85" width="10" height="8" fill="#27ae60"/><rect x="95" y="85" width="10" height="8" fill="#27ae60"/><rect x="145" y="85" width="10" height="8" fill="#27ae60"/></svg>`,
        'math_minus': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="40" y="80" fill="#2c3e50" font-size="40" font-family="Arial">5</text><text x="70" y="80" fill="#e74c3c" font-size="40" font-family="Arial">-</text><text x="100" y="80" fill="#2c3e50" font-size="40" font-family="Arial">2</text><text x="130" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="160" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'number_10': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="80" font-weight="bold" font-family="Arial">10</text></svg>`,
        'one_plus_one': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="40" y="80" fill="#2c3e50" font-size="40" font-family="Arial">1</text><text x="70" y="80" fill="#e74c3c" font-size="40" font-family="Arial">+</text><text x="100" y="80" fill="#2c3e50" font-size="40" font-family="Arial">1</text><text x="130" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="160" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'four_fingers': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="60" width="15" height="60" fill="#f39c12" rx="7"/><rect x="80" y="50" width="15" height="70" fill="#f39c12" rx="7"/><rect x="100" y="50" width="15" height="70" fill="#f39c12" rx="7"/><rect x="120" y="60" width="15" height="60" fill="#f39c12" rx="7"/><rect x="55" y="110" width="75" height="25" fill="#f39c12" rx="12"/></svg>`,
        'one_apple': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="110" r="30" fill="#e74c3c"/><rect x="95" y="85" width="10" height="15" fill="#27ae60"/></svg>`,
        'four_plus_one': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="40" y="80" fill="#2c3e50" font-size="40" font-family="Arial">4</text><text x="70" y="80" fill="#e74c3c" font-size="40" font-family="Arial">+</text><text x="100" y="80" fill="#2c3e50" font-size="40" font-family="Arial">1</text><text x="130" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="160" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        
        // Con v·∫≠t
        'cat': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="120" rx="40" ry="30" fill="#f39c12"/><circle cx="100" cy="90" r="25" fill="#f39c12"/><polygon points="80,70 85,85 75,85" fill="#f39c12"/><polygon points="120,70 125,85 115,85" fill="#f39c12"/><circle cx="90" cy="85" r="3" fill="#2c3e50"/><circle cx="110" cy="85" r="3" fill="#2c3e50"/><path d="M50 90 Q70 70 90 90" stroke="#2c3e50" stroke-width="2" fill="none"/><path d="M110 90 Q130 70 150 90" stroke="#2c3e50" stroke-width="2" fill="none"/></svg>`,
        'dog': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="120" rx="45" ry="35" fill="#8b4513"/><ellipse cx="100" cy="85" rx="30" ry="25" fill="#8b4513"/><ellipse cx="70" cy="70" rx="8" ry="12" fill="#8b4513"/><ellipse cx="130" cy="70" rx="8" ry="12" fill="#8b4513"/><circle cx="88" cy="80" r="3" fill="#2c3e50"/><circle cx="112" cy="80" r="3" fill="#2c3e50"/><path d="M50 100 Q70 90 90 100 Q110 110 130 100 Q150 90 170 100" stroke="#2c3e50" stroke-width="2" fill="none"/><path d="M70 130 Q100 150 130 130" stroke="#2c3e50" stroke-width="2" fill="none"/></svg>`,
        'duck': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="130" rx="50" ry="35" fill="#ffd700"/><circle cx="85" cy="85" r="30" fill="#ffd700"/><ellipse cx="65" cy="85" rx="12" ry="8" fill="#ff8c00"/><circle cx="75" cy="80" r="3" fill="#2c3e50"/><path d="M50 90 Q70 85 85 90" stroke="#2c3e50" stroke-width="4" fill="none"/></svg>`,
        'bird': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="110" rx="35" ry="25" fill="#3498db"/><circle cx="85" cy="85" r="20" fill="#3498db"/><path d="M40 100 Q60 90 75 100 Q60 110 40 100" fill="#2980b9"/><path d="M125 100 Q145 90 160 100 Q145 110 125 100" fill="#2980b9"/><triangle points="70,85 75,90 70,95" fill="#f39c12"/><circle cx="78" cy="80" r="2" fill="#2c3e50"/></svg>`,
        'elephant': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="110" cy="130" rx="50" ry="40" fill="#95a5a6"/><circle cx="100" cy="80" r="35" fill="#95a5a6"/><ellipse cx="65" cy="95" rx="8" ry="30" fill="#95a5a6"/><circle cx="85" cy="70" r="3" fill="#2c3e50"/><circle cx="115" cy="70" r="3" fill="#2c3e50"/><ellipse cx="75" cy="65" rx="15" ry="8" fill="#95a5a6"/><ellipse cx="125" cy="65" rx="15" ry="8" fill="#95a5a6"/></svg>`,
        'kangaroo': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="140" rx="30" ry="45" fill="#d2691e"/><circle cx="100" cy="80" r="25" fill="#d2691e"/><ellipse cx="85" cy="60" rx="6" ry="18" fill="#d2691e"/><ellipse cx="115" cy="60" rx="6" ry="18" fill="#d2691e"/><circle cx="92" cy="75" r="3" fill="#2c3e50"/><circle cx="108" cy="75" r="3" fill="#2c3e50"/><ellipse cx="100" cy="85" rx="4" ry="3" fill="#2c3e50"/><path d="M90 90 Q100 95 110 90" stroke="#2c3e50" stroke-width="2" fill="none"/><ellipse cx="70" cy="100" rx="8" ry="20" fill="#d2691e"/><ellipse cx="130" cy="100" rx="8" ry="20" fill="#d2691e"/></svg>`,
        'cow': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="130" rx="55" ry="40" fill="#ffffff"/><circle cx="100" cy="80" r="30" fill="#ffffff"/><ellipse cx="80" cy="65" rx="6" ry="12" fill="#ffffff"/><ellipse cx="120" cy="65" rx="6" ry="12" fill="#ffffff"/><ellipse cx="82" cy="60" rx="3" ry="8" fill="#8b4513"/><ellipse cx="118" cy="60" rx="3" ry="8" fill="#8b4513"/><circle cx="88" cy="75" r="3" fill="#2c3e50"/><circle cx="112" cy="75" r="3" fill="#2c3e50"/><ellipse cx="100" cy="85" rx="6" ry="4" fill="#ff69b4"/><ellipse cx="90" cy="120" rx="8" ry="5" fill="#2c3e50"/><ellipse cx="110" cy="120" rx="8" ry="5" fill="#2c3e50"/><ellipse cx="115" cy="135" rx="8" ry="5" fill="#2c3e50"/><ellipse cx="85" cy="135" rx="8" ry="5" fill="#2c3e50"/></svg>`,
        'giraffe': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="150" rx="35" ry="30" fill="#daa520"/><rect x="95" y="70" width="10" height="80" fill="#daa520"/><circle cx="100" cy="60" r="20" fill="#daa520"/><ellipse cx="90" cy="50" rx="4" ry="8" fill="#daa520"/><ellipse cx="110" cy="50" rx="4" ry="8" fill="#daa520"/><circle cx="92" cy="55" r="2" fill="#2c3e50"/><circle cx="108" cy="55" r="2" fill="#2c3e50"/><circle cx="85" cy="140" r="4" fill="#8b4513"/><circle cx="115" cy="140" r="4" fill="#8b4513"/><circle cx="90" cy="160" r="4" fill="#8b4513"/><circle cx="110" cy="160" r="4" fill="#8b4513"/></svg>`,

        // Cu·ªôc s·ªëng
        'pencil': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="80" y="40" width="40" height="120" fill="#ffd700"/><polygon points="80,40 120,40 100,20" fill="#ff69b4"/><rect x="85" y="140" width="30" height="50" fill="#2c3e50"/></svg>`,
        'bicycle': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="60" cy="140" r="25" stroke="#2c3e50" stroke-width="4" fill="none"/><circle cx="140" cy="140" r="25" stroke="#2c3e50" stroke-width="4" fill="none"/><line x1="60" y1="140" x2="100" y2="80" stroke="#e74c3c" stroke-width="4"/><line x1="100" y1="80" x2="140" y2="140" stroke="#e74c3c" stroke-width="4"/><line x1="85" y1="140" x2="115" y2="140" stroke="#e74c3c" stroke-width="4"/><circle cx="100" cy="80" r="5" fill="#2c3e50"/><rect x="95" y="60" width="10" height="20" fill="#8b4513"/></svg>`,
        'teacher': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="70" r="25" fill="#f4a460"/><ellipse cx="100" cy="130" rx="30" ry="45" fill="#3498db"/><rect x="85" y="105" width="30" height="50" fill="#ffffff"/><circle cx="88" cy="65" r="3" fill="#2c3e50"/><circle cx="112" cy="65" r="3" fill="#2c3e50"/><path d="M90 80 Q100 85 110 80" stroke="#2c3e50" stroke-width="2" fill="none"/><rect x="95" y="60" width="10" height="20" fill="#8b4513"/></svg>`,
        'drawing': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="40" y="60" width="120" height="80" fill="#ffffff" stroke="#2c3e50" stroke-width="2"/><circle cx="80" cy="90" r="3" fill="#3498db"/><circle cx="120" cy="90" r="3" fill="#3498db"/><path d="M70 100 Q100 130 130 100" stroke="#2c3e50" stroke-width="2" fill="none"/><path d="M70 130 Q100 160 130 130" stroke="#2c3e50" stroke-width="2" fill="none"/></svg>`,
        'ball': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="50" fill="#e74c3c"/><path d="M70 80 Q100 60 130 80" stroke="#ffffff" stroke-width="3" fill="none"/><path d="M70 120 Q100 140 130 120" stroke="#ffffff" stroke-width="3" fill="none"/><line x1="100" y1="50" x2="100" y2="150" stroke="#ffffff" stroke-width="3"/></svg>`,
        'chair': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="100" width="80" height="8" fill="#8b4513"/><rect x="60" y="60" width="80" height="8" fill="#8b4513"/><rect x="60" y="60" width="8" height="48" fill="#8b4513"/><rect x="132" y="60" width="8" height="48" fill="#8b4513"/><rect x="60" y="108" width="8" height="40" fill="#8b4513"/><rect x="132" y="108" width="8" height="40" fill="#8b4513"/><rect x="68" y="148" width="8" height="20" fill="#8b4513"/><rect x="124" y="148" width="8" height="20" fill="#8b4513"/></svg>`,
        'chopsticks': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="70" y="60" width="4" height="80" fill="#d2b48c" transform="rotate(15 72 100)"/><rect x="90" y="60" width="4" height="80" fill="#d2b48c" transform="rotate(-15 92 100)"/></svg>`,
        'book': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="70" width="80" height="60" fill="#3498db" stroke="#2c3e50" stroke-width="2"/><line x1="100" y1="70" x2="100" y2="130" stroke="#2c3e50" stroke-width="2"/><line x1="70" y1="85" x2="90" y2="85" stroke="#ffffff" stroke-width="2"/><line x1="70" y1="95" x2="90" y2="95" stroke="#ffffff" stroke-width="2"/><line x1="110" y1="85" x2="130" y2="85" stroke="#ffffff" stroke-width="2"/><line x1="110" y1="95" x2="130" y2="95" stroke="#ffffff" stroke-width="2"/></svg>`,

        // Ti·∫øng Anh  
        'apple_en': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="110" r="30" fill="#e74c3c"/><rect x="95" y="85" width="10" height="15" fill="#27ae60"/><text x="100" y="170" text-anchor="middle" fill="#2c3e50" font-size="20" font-family="Arial">APPLE</text></svg>`,
        'red_color': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="40" fill="#e74c3c"/><text x="100" y="170" text-anchor="middle" fill="#2c3e50" font-size="20" font-family="Arial">RED</text></svg>`,
        'yellow_color': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="40" fill="#f1c40f"/><text x="100" y="170" text-anchor="middle" fill="#2c3e50" font-size="20" font-family="Arial">YELLOW</text></svg>`,
        'cat_en': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="120" rx="40" ry="30" fill="#f39c12"/><circle cx="100" cy="90" r="25" fill="#f39c12"/><polygon points="80,70 85,85 75,85" fill="#f39c12"/><polygon points="120,70 125,85 115,85" fill="#f39c12"/><circle cx="90" cy="85" r="3" fill="#2c3e50"/><circle cx="110" cy="85" r="3" fill="#2c3e50"/><text x="100" y="180" text-anchor="middle" fill="#2c3e50" font-size="20" font-family="Arial">CAT</text></svg>`,
        'dog_en': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="120" rx="45" ry="35" fill="#8b4513"/><ellipse cx="100" cy="85" rx="30" ry="25" fill="#8b4513"/><ellipse cx="70" cy="70" rx="8" ry="12" fill="#8b4513"/><ellipse cx="130" cy="70" rx="8" ry="12" fill="#8b4513"/><circle cx="88" cy="80" r="3" fill="#2c3e50"/><circle cx="112" cy="80" r="3" fill="#2c3e50"/><text x="100" y="180" text-anchor="middle" fill="#2c3e50" font-size="20" font-family="Arial">DOG</text></svg>`,
        'number_5_en': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="110" text-anchor="middle" fill="#2c3e50" font-size="80" font-weight="bold" font-family="Arial">5</text><text x="100" y="170" text-anchor="middle" fill="#2c3e50" font-size="20" font-family="Arial">FIVE</text></svg>`,
        'orange_fruit': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="110" r="30" fill="#ff8c00"/><rect x="95" y="85" width="10" height="15" fill="#27ae60"/><text x="100" y="170" text-anchor="middle" fill="#2c3e50" font-size="18" font-family="Arial">ORANGE</text></svg>`,
        'green_color': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="40" fill="#27ae60"/><text x="100" y="170" text-anchor="middle" fill="#2c3e50" font-size="20" font-family="Arial">GREEN</text></svg>`,

        // M√†u s·∫Øc
        'color_red': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="50" fill="#e74c3c"/></svg>`,
        'color_yellow': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="50" fill="#f1c40f"/></svg>`,
        'color_blue': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="50" fill="#3498db"/></svg>`,
        'triangle': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><polygon points="100,50 150,130 50,130" fill="#e74c3c" stroke="#2c3e50" stroke-width="3"/></svg>`,
        'circle': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="50" fill="#3498db" stroke="#2c3e50" stroke-width="3"/></svg>`,
        'square': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="50" y="50" width="100" height="100" fill="#27ae60" stroke="#2c3e50" stroke-width="3"/></svg>`,
        'color_purple': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="50" fill="#9b59b6"/><text x="100" y="170" text-anchor="middle" fill="#2c3e50" font-size="18" font-family="Arial">PURPLE</text></svg>`,
        'star': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><polygon points="100,40 115,80 160,80 125,110 140,150 100,130 60,150 75,110 40,80 85,80" fill="#f1c40f" stroke="#2c3e50" stroke-width="2"/><polygon points="100,40 130,55 145,85 130,115 100,130 70,115 55,85 70,55" fill="#e74c3c" stroke="#2c3e50" stroke-width="2"/><polygon points="100,60 110,100 150,100 115,130 130,170 100,150 70,170 85,130 50,100 90,100" fill="#3498db" stroke="#2c3e50" stroke-width="2"/></svg>`,

        // Gia ƒë√¨nh
        'mother': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="70" r="25" fill="#f4a460"/><ellipse cx="100" cy="130" rx="30" ry="45" fill="#e74c3c"/><ellipse cx="85" cy="50" rx="12" ry="18" fill="#8b4513"/><ellipse cx="115" cy="50" rx="12" ry="18" fill="#8b4513"/><circle cx="88" cy="65" r="3" fill="#2c3e50"/><circle cx="112" cy="65" r="3" fill="#2c3e50"/><path d="M90 80 Q100 85 110 80" stroke="#ff69b4" stroke-width="2" fill="none"/></svg>`,
        'father': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="70" r="25" fill="#d2b48c"/><ellipse cx="100" cy="130" rx="35" ry="45" fill="#2c3e50"/><rect x="85" y="105" width="30" height="50" fill="#ffffff"/><circle cx="88" cy="65" r="3" fill="#2c3e50"/><circle cx="112" cy="65" r="3" fill="#2c3e50"/><path d="M85 78 Q100 75 115 78" stroke="#2c3e50" stroke-width="2" fill="none"/><rect x="95" y="60" width="10" height="20" fill="#8b4513"/></svg>`,
        'eye': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="100" rx="60" ry="30" fill="#ffffff" stroke="#2c3e50" stroke-width="3"/><circle cx="100" cy="100" r="20" fill="#3498db"/><circle cx="100" cy="100" r="10" fill="#2c3e50"/><circle cx="105" cy="95" r="3" fill="#ffffff"/></svg>`,
        'ear': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="100" rx="35" ry="50" fill="#f4a460" stroke="#2c3e50" stroke-width="3"/><ellipse cx="100" cy="100" rx="20" ry="30" fill="#ffb6c1"/><ellipse cx="100" cy="90" rx="8" ry="12" fill="#f4a460"/></svg>`,
        'mouth': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="100" rx="40" ry="25" fill="#ff69b4" stroke="#2c3e50" stroke-width="3"/><rect x="85" y="90" width="30" height="8" fill="#ffffff"/><rect x="88" y="90" width="6" height="8" fill="#ffffff"/><rect x="96" y="90" width="6" height="8" fill="#ffffff"/><rect x="104" y="90" width="6" height="8" fill="#ffffff"/><ellipse cx="100" cy="110" rx="15" ry="8" fill="#e74c3c"/></svg>`,
        'hand_five': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="60" width="12" height="50" fill="#f4a460" rx="6"/><rect x="75" y="50" width="12" height="60" fill="#f4a460" rx="6"/><rect x="90" y="50" width="12" height="60" fill="#f4a460" rx="6"/><rect x="105" y="50" width="12" height="60" fill="#f4a460" rx="6"/><rect x="120" y="60" width="12" height="50" fill="#f4a460" rx="6"/><rect x="55" y="110" width="75" height="25" fill="#f4a460" rx="12"/></svg>`,
        'feet': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="80" cy="130" rx="25" ry="40" fill="#f4a460"/><ellipse cx="120" cy="130" rx="25" ry="40" fill="#f4a460"/><circle cx="75" cy="115" r="4" fill="#f4a460"/><circle cx="80" cy="110" r="4" fill="#f4a460"/><circle cx="85" cy="115" r="4" fill="#f4a460"/><circle cx="115" cy="115" r="4" fill="#f4a460"/><circle cx="120" cy="110" r="4" fill="#f4a460"/><circle cx="125" cy="115" r="4" fill="#f4a460"/></svg>`,
        'hands': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="80" cy="100" r="35" fill="#f4a460"/><circle cx="120" cy="100" r="35" fill="#f4a460"/><rect x="70" y="80" width="8" height="25" fill="#f4a460"/><rect x="78" y="75" width="8" height="30" fill="#f4a460"/><rect x="86" y="75" width="8" height="30" fill="#f4a460"/><rect x="94" y="80" width="8" height="25" fill="#f4a460"/><rect x="108" y="80" width="8" height="25" fill="#f4a460"/><rect x="116" y="75" width="8" height="30" fill="#f4a460"/><rect x="124" y="75" width="8" height="30" fill="#f4a460"/><rect x="132" y="80" width="8" height="25" fill="#f4a460"/></svg>`,

        // An to√†n giao th√¥ng
        'traffic_light_red': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="80" y="40" width="40" height="120" fill="#2c3e50" rx="10"/><circle cx="100" cy="70" r="15" fill="#e74c3c"/><circle cx="100" cy="100" r="15" fill="#666"/><circle cx="100" cy="130" r="15" fill="#666"/><rect x="95" y="160" width="10" height="30" fill="#8b4513"/></svg>`,
        'traffic_light_green': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="80" y="40" width="40" height="120" fill="#2c3e50" rx="10"/><circle cx="100" cy="70" r="15" fill="#666"/><circle cx="100" cy="100" r="15" fill="#666"/><circle cx="100" cy="130" r="15" fill="#27ae60"/><rect x="95" y="160" width="10" height="30" fill="#8b4513"/></svg>`,
        'crosswalk': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="30" y="80" width="140" height="40" fill="#95a5a6"/><rect x="35" y="85" width="15" height="30" fill="#ffffff"/><rect x="55" y="85" width="15" height="30" fill="#ffffff"/><rect x="75" y="85" width="15" height="30" fill="#ffffff"/><rect x="95" y="85" width="15" height="30" fill="#ffffff"/><rect x="115" y="85" width="15" height="30" fill="#ffffff"/><rect x="135" y="85" width="15" height="30" fill="#ffffff"/><rect x="155" y="85" width="15" height="30" fill="#ffffff"/><rect x="35" y="90" width="130" height="20" fill="#3498db"/><circle cx="70" cy="140" r="15" stroke="#2c3e50" stroke-width="3" fill="none"/><circle cx="130" cy="140" r="15" stroke="#2c3e50" stroke-width="3" fill="none"/><rect x="35" y="85" width="15" height="30" fill="#3498db"/><rect x="155" y="85" width="15" height="30" fill="#3498db"/></svg>`,
        'look_left_right': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="70" r="25" fill="#f4a460"/><ellipse cx="100" cy="130" rx="25" ry="40" fill="#3498db"/><circle cx="90" cy="65" r="3" fill="#2c3e50"/><circle cx="110" cy="65" r="3" fill="#2c3e50"/><path d="M50 90 Q70 70 90 90" stroke="#2c3e50" stroke-width="2" fill="none"/><path d="M110 90 Q130 70 150 90" stroke="#2c3e50" stroke-width="2" fill="none"/></svg>`,
        'helmet': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="90" rx="50" ry="40" fill="#e74c3c"/><ellipse cx="100" cy="85" rx="45" ry="35" fill="#c0392b"/><rect x="75" y="120" width="50" height="8" fill="#2c3e50"/><circle cx="80" cy="124" r="3" fill="#95a5a6"/><circle cx="120" cy="124" r="3" fill="#95a5a6"/></svg>`,
        'seat_belt': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="60" r="20" fill="#f4a460"/><ellipse cx="100" cy="120" rx="25" ry="35" fill="#3498db"/><path d="M80 80 Q100 95 120 80 Q120 140 100 150 Q80 140 80 80" stroke="#2c3e50" stroke-width="4" fill="none"/><rect x="85" y="145" width="30" height="15" fill="#e74c3c"/></svg>`,
        'stop_sign': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><polygon points="100,40 130,55 145,85 130,115 100,130 70,115 55,85 70,55" fill="#e74c3c" stroke="#ffffff" stroke-width="4"/><text x="100" y="90" text-anchor="middle" fill="#ffffff" font-size="16" font-weight="bold" font-family="Arial">STOP</text><rect x="95" y="130" width="10" height="40" fill="#95a5a6"/></svg>`,
        'school_zone': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="50" width="80" height="80" fill="#f1c40f" stroke="#2c3e50" stroke-width="3"/><circle cx="85" cy="75" r="8" fill="#2c3e50"/><circle cx="115" cy="75" r="8" fill="#2c3e50"/><path d="M80 95 Q100 105 120 95" stroke="#2c3e50" stroke-width="3" fill="none"/><rect x="85" y="110" width="30" height="15" fill="#e74c3c"/><rect x="95" y="130" width="10" height="40" fill="#95a5a6"/></svg>`,
        'hold_hand': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="70" cy="60" r="15" fill="#f4a460"/><ellipse cx="70" cy="100" rx="15" ry="25" fill="#3498db"/><circle cx="130" cy="60" r="18" fill="#666"/><ellipse cx="130" cy="105" rx="18" ry="30" fill="#2c3e50"/><rect x="120" y="80" width="20" height="15" fill="#95a5a6"/><path d="M110 110 Q130 100 150 110" stroke="#e74c3c" stroke-width="3" fill="none"/><text x="100" y="150" text-anchor="middle" fill="#e74c3c" font-size="14" font-weight="bold">‚ö†Ô∏è NG∆Ø·ªúI L·∫†</text></svg>`,
        'sidewalk': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="30" y="120" width="140" height="30" fill="#bdc3c7"/><rect x="30" y="150" width="140" height="30" fill="#95a5a6"/><circle cx="100" cy="80" r="15" fill="#f4a460"/><ellipse cx="100" cy="110" rx="10" ry="20" fill="#3498db"/><rect x="95" y="130" width="10" height="20" fill="#8b4513"/></svg>`,

        // C√¢u h·ªèi to√°n m·ªõi
        'number_3': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="120" font-weight="bold" font-family="Arial">3</text></svg>`,
        'six_dots': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="60" cy="80" r="15" fill="#3498db"/><circle cx="100" cy="80" r="15" fill="#3498db"/><circle cx="140" cy="80" r="15" fill="#3498db"/><circle cx="60" cy="120" r="15" fill="#3498db"/><circle cx="100" cy="120" r="15" fill="#3498db"/><circle cx="140" cy="120" r="15" fill="#3498db"/></svg>`,
        'three_plus_two': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="30" y="80" fill="#2c3e50" font-size="40" font-family="Arial">3</text><text x="60" y="80" fill="#e74c3c" font-size="40" font-family="Arial">+</text><text x="90" y="80" fill="#2c3e50" font-size="40" font-family="Arial">2</text><text x="120" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="150" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'ten_minus_three': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="20" y="80" fill="#2c3e50" font-size="35" font-family="Arial">10</text><text x="60" y="80" fill="#e74c3c" font-size="35" font-family="Arial">-</text><text x="90" y="80" fill="#2c3e50" font-size="35" font-family="Arial">3</text><text x="120" y="80" fill="#e74c3c" font-size="35" font-family="Arial">=</text><text x="150" y="80" fill="#27ae60" font-size="35" font-family="Arial">?</text></svg>`,
        'five_stars': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><polygon points="100,40 115,80 160,80 125,110 140,150 100,130 60,150 75,110 40,80 85,80" fill="#f1c40f" stroke="#2c3e50" stroke-width="2"/><polygon points="100,40 130,55 145,85 130,115 100,130 70,115 55,85 70,55" fill="#e74c3c" stroke="#2c3e50" stroke-width="2"/><polygon points="100,60 110,100 150,100 115,130 130,170 100,150 70,170 85,130 50,100 90,100" fill="#3498db" stroke="#2c3e50" stroke-width="2"/></svg>`,
        'number_8': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="100" y="130" text-anchor="middle" fill="#2c3e50" font-size="120" font-weight="bold" font-family="Arial">8</text></svg>`,
        'two_plus_four': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="30" y="80" fill="#2c3e50" font-size="40" font-family="Arial">2</text><text x="60" y="80" fill="#e74c3c" font-size="40" font-family="Arial">+</text><text x="90" y="80" fill="#2c3e50" font-size="40" font-family="Arial">4</text><text x="120" y="80" fill="#e74c3c" font-size="40" font-family="Arial">=</text><text x="150" y="80" fill="#27ae60" font-size="40" font-family="Arial">?</text></svg>`,
        'nine_circles': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="60" cy="60" r="12" fill="#9b59b6"/><circle cx="100" cy="60" r="12" fill="#9b59b6"/><circle cx="140" cy="60" r="12" fill="#9b59b6"/><circle cx="60" cy="100" r="12" fill="#9b59b6"/><circle cx="100" cy="100" r="12" fill="#9b59b6"/><circle cx="140" cy="100" r="12" fill="#9b59b6"/><circle cx="60" cy="140" r="12" fill="#9b59b6"/><circle cx="100" cy="140" r="12" fill="#9b59b6"/><circle cx="140" cy="140" r="12" fill="#9b59b6"/></svg>`,

        // An to√†n giao th√¥ng m·ªõi
        'car_seat': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="90" width="60" height="60" fill="#34495e" rx="10"/><rect x="70" y="100" width="20" height="40" fill="#2c3e50" rx="5"/><circle cx="90" cy="115" r="8" fill="#f4a460"/><path d="M80 110 Q90 115 100 110" stroke="#2c3e50" stroke-width="2" fill="none"/><rect x="85" y="160" width="10" height="30" fill="#8b4513"/></svg>`,
        'bicycle_lane': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="30" y="80" width="140" height="40" fill="#95a5a6"/><rect x="35" y="85" width="15" height="30" fill="#ffffff"/><rect x="55" y="85" width="15" height="30" fill="#ffffff"/><rect x="75" y="85" width="15" height="30" fill="#ffffff"/><rect x="95" y="85" width="15" height="30" fill="#ffffff"/><rect x="115" y="85" width="15" height="30" fill="#ffffff"/><rect x="135" y="85" width="15" height="30" fill="#ffffff"/><rect x="155" y="85" width="15" height="30" fill="#ffffff"/><rect x="35" y="90" width="130" height="20" fill="#3498db"/><circle cx="70" cy="140" r="15" stroke="#2c3e50" stroke-width="3" fill="none"/><circle cx="130" cy="140" r="15" stroke="#2c3e50" stroke-width="3" fill="none"/><rect x="35" y="85" width="15" height="30" fill="#3498db"/><rect x="155" y="85" width="15" height="30" fill="#3498db"/></svg>`,
        'traffic_police': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="60" r="20" fill="#f4a460"/><ellipse cx="100" cy="120" rx="25" ry="40" fill="#2c3e50"/><rect x="85" y="100" width="30" height="40" fill="#ffffff"/><circle cx="90" cy="55" r="3" fill="#2c3e50"/><circle cx="110" cy="55" r="3" fill="#2c3e50"/><rect x="85" y="45" width="30" height="10" fill="#34495e"/><ellipse cx="130" cy="90" rx="12" ry="6" fill="#f4a460"/><rect x="125" y="85" width="10" height="15" fill="#e74c3c"/></svg>`,
        'reflective_vest': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="120" rx="40" ry="50" fill="#f1c40f"/><rect x="90" y="85" width="20" height="30" fill="#e67e22"/><rect x="80" y="90" width="40" height="8" fill="#ffffff"/><rect x="80" y="110" width="40" height="8" fill="#ffffff"/><rect x="80" y="130" width="40" height="8" fill="#ffffff"/></svg>`,
        'phone_crossing': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="80" cy="60" r="15" fill="#f4a460"/><ellipse cx="80" cy="100" rx="15" ry="25" fill="#3498db"/><rect x="90" y="80" width="15" height="25" fill="#2c3e50" rx="3"/><rect x="92" y="85" width="11" height="15" fill="#3498db"/><line x1="100" y1="100" x2="140" y2="100" stroke="#e74c3c" stroke-width="4"/><circle cx="140" cy="100" r="10" fill="#e74c3c"/><line x1="135" y1="95" x2="145" y2="105" stroke="#ffffff" stroke-width="3"/><line x1="145" y1="95" x2="135" y2="105" stroke="#ffffff" stroke-width="3"/></svg>`,

        // An to√†n cu·ªôc s·ªëng
        'electric_plug': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="70" y="90" width="60" height="60" fill="#ecf0f1" stroke="#2c3e50" stroke-width="3" rx="10"/><circle cx="90" cy="115" r="8" fill="#2c3e50"/><circle cx="110" cy="115" r="8" fill="#2c3e50"/><rect x="95" y="135" width="10" height="15" fill="#2c3e50" rx="5"/><path d="M70 60 Q100 30 130 60" stroke="#e74c3c" stroke-width="4" fill="none"/><path d="M60 70 Q100 40 140 70" stroke="#e74c3c" stroke-width="4" fill="none"/></svg>`,
        'wet_hands_electric': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="70" cy="100" rx="15" ry="20" fill="#f4a460"/><ellipse cx="130" cy="100" rx="15" ry="20" fill="#f4a460"/><circle cx="65" cy="90" r="3" fill="#3498db"/><circle cx="70" cy="85" r="3" fill="#3498db"/><circle cx="75" cy="90" r="3" fill="#3498db"/><circle cx="125" cy="90" r="3" fill="#3498db"/><circle cx="130" cy="85" r="3" fill="#3498db"/><circle cx="135" cy="90" r="3" fill="#3498db"/><rect x="85" y="120" width="30" height="40" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2"/><path d="M80 50 Q100 20 120 50" stroke="#e74c3c" stroke-width="4" fill="none"/></svg>`,
        'knife_danger': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="95" width="80" height="10" fill="#bdc3c7"/><rect x="60" y="95" width="60" height="10" fill="#95a5a6"/><rect x="140" y="90" width="20" height="20" fill="#8b4513" rx="5"/><path d="M50 60 Q100 30 150 60" stroke="#e74c3c" stroke-width="4" fill="none"/><path d="M40 70 Q100 40 160 70" stroke="#e74c3c" stroke-width="4" fill="none"/><text x="100" y="140" text-anchor="middle" fill="#e74c3c" font-size="20" font-weight="bold">‚ö†Ô∏è</text></svg>`,
        'fire_danger': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><path d="M100 150 Q80 130 90 110 Q85 90 100 100 Q110 80 120 100 Q125 90 122 110 Q130 130 110 150 Q100 160 90 150" fill="#e74c3c"/><path d="M100 140 Q90 125 95 115 Q92 105 100 110 Q105 100 110 110 Q115 105 112 115 Q120 125 110 140 Q105 145 100 140" fill="#f39c12"/><ellipse cx="100" cy="170" rx="30" ry="8" fill="#34495e"/></svg>`,
        'swimming_adult': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="20" y="120" width="160" height="60" fill="#3498db"/><circle cx="70" cy="80" r="15" fill="#f4a460"/><ellipse cx="70" cy="110" rx="12" ry="20" fill="#e74c3c"/><circle cx="130" cy="70" r="20" fill="#d2b48c"/><ellipse cx="130" cy="110" rx="15" ry="25" fill="#2c3e50"/><path d="M60 120 Q80 110 100 120" stroke="#ffffff" stroke-width="3" fill="none"/><path d="M110 120 Q130 110 150 120" stroke="#ffffff" stroke-width="3" fill="none"/></svg>`,
        'deep_water': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="20" y="100" width="160" height="80" fill="#2980b9"/><rect x="20" y="140" width="160" height="40" fill="#1f4e79"/><path d="M30 100 Q100 60 170 100" stroke="#85c1e9" stroke-width="3" fill="none"/><path d="M30 120 Q100 80 170 120" stroke="#5dade2" stroke-width="3" fill="none"/><text x="100" y="60" text-anchor="middle" fill="#e74c3c" font-size="24" font-weight="bold">‚ö†Ô∏è S√ÇUU</text></svg>`,
        'hot_stove': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="120" width="80" height="40" fill="#2c3e50"/><circle cx="80" cy="100" r="18" fill="#e74c3c"/><circle cx="120" cy="100" r="18" fill="#e74c3c"/><circle cx="80" cy="100" r="12" fill="#2c3e50"/><circle cx="120" cy="100" r="12" fill="#2c3e50"/><circle cx="80" cy="100" r="6" fill="#e74c3c"/><circle cx="120" cy="100" r="6" fill="#e74c3c"/><path d="M70 80 Q80 60 90 80" stroke="#3498db" stroke-width="3" fill="none"/><path d="M110 80 Q120 60 130 80" stroke="#3498db" stroke-width="3" fill="none"/><rect x="65" y="160" width="10" height="20" fill="#95a5a6"/><rect x="125" y="160" width="10" height="20" fill="#95a5a6"/></svg>`,
        'cleaning_chemicals': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="80" y="60" width="40" height="80" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2" rx="5"/><rect x="85" y="50" width="30" height="25" fill="#3498db" rx="3"/><rect x="85" y="70" width="30" height="15" fill="#e74c3c"/><text x="100" y="82" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">THU·ªêC</text></svg>`,
        'window_height': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="40" width="80" height="80" fill="#85c1e9" stroke="#2c3e50" stroke-width="3" rx="5"/><rect x="65" y="45" width="70" height="110" fill="#ecf0f1"/><rect x="70" y="60" width="30" height="50" fill="#34495e"/><rect x="110" y="60" width="30" height="50" fill="#34495e"/><line x1="85" y1="60" x2="85" y2="110" stroke="#95a5a6" stroke-width="2"/><line x1="125" y1="60" x2="125" y2="110" stroke="#95a5a6" stroke-width="2"/><circle cx="100" cy="130" r="8" fill="#f4a460"/><ellipse cx="100" cy="145" rx="6" ry="10" fill="#3498db"/><rect x="95" y="160" width="10" height="20" fill="#8b4513"/></svg>`,
        'stranger_danger': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="70" cy="60" r="15" fill="#f4a460"/><ellipse cx="70" cy="100" rx="15" ry="25" fill="#3498db"/><circle cx="130" cy="60" r="18" fill="#666"/><ellipse cx="130" cy="105" rx="18" ry="30" fill="#2c3e50"/><rect x="120" y="80" width="20" height="15" fill="#95a5a6"/><path d="M110 110 Q130 100 150 110" stroke="#e74c3c" stroke-width="3" fill="none"/><text x="100" y="150" text-anchor="middle" fill="#e74c3c" font-size="14" font-weight="bold">‚ö†Ô∏è NG∆Ø·ªúI L·∫†</text></svg>`,
        'medicine_bottle': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="75" y="70" width="50" height="80" fill="#ffffff" stroke="#2c3e50" stroke-width="2" rx="5"/><rect x="85" y="55" width="30" height="25" fill="#e74c3c" rx="3"/><rect x="85" y="70" width="30" height="15" fill="#e74c3c"/><text x="100" y="82" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">THU·ªêC</text></svg>`,
        'sharp_objects': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><polygon points="60,120 80,80 90,80 90,120" fill="#bdc3c7"/><polygon points="60,120 80,60 85,60 85,120" fill="#95a5a6"/><rect x="85" y="120" width="10" height="30" fill="#8b4513"/><polygon points="110,130 130,90 140,90 140,130" fill="#bdc3c7"/><polygon points="110,130 130,70 135,70 135,130" fill="#95a5a6"/><rect x="135" y="130" width="10" height="20" fill="#8b4513"/><path d="M50 50 Q100 20 150 50" stroke="#e74c3c" stroke-width="4" fill="none"/><text x="100" y="180" text-anchor="middle" fill="#e74c3c" font-size="16" font-weight="bold">‚ö†Ô∏è NH·ªåN</text></svg>`,
        'balcony_danger': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="40" y="80" width="120" height="80" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2"/><rect x="45" y="75" width="110" height="10" fill="#8b4513"/><line x1="50" y1="75" x2="50" y2="85" stroke="#2c3e50" stroke-width="3"/><line x1="70" y1="75" x2="70" y2="85" stroke="#2c3e50" stroke-width="3"/><line x1="90" y1="75" x2="90" y2="85" stroke="#2c3e50" stroke-width="3"/><line x1="110" y1="75" x2="110" y2="85" stroke="#2c3e50" stroke-width="3"/><line x1="130" y1="75" x2="130" y2="85" stroke="#2c3e50" stroke-width="3"/><line x1="150" y1="75" x2="150" y2="85" stroke="#2c3e50" stroke-width="3"/><circle cx="100" cy="110" r="12" fill="#f4a460"/><ellipse cx="100" cy="135" rx="10" ry="15" fill="#3498db"/><text x="100" y="180" text-anchor="middle" fill="#e74c3c" font-size="12" font-weight="bold">NGUY HI·ªÇM</text></svg>`,
        'gas_stove': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="50" y="110" width="100" height="50" fill="#2c3e50"/><circle cx="80" cy="100" r="18" fill="#34495e"/><circle cx="120" cy="100" r="18" fill="#34495e"/><circle cx="80" cy="100" r="12" fill="#2c3e50"/><circle cx="120" cy="100" r="12" fill="#2c3e50"/><circle cx="80" cy="100" r="6" fill="#e74c3c"/><circle cx="120" cy="100" r="6" fill="#e74c3c"/><path d="M70 80 Q80 60 90 80" stroke="#3498db" stroke-width="3" fill="none"/><path d="M110 80 Q120 60 130 80" stroke="#3498db" stroke-width="3" fill="none"/><rect x="65" y="160" width="10" height="20" fill="#95a5a6"/><rect x="125" y="160" width="10" height="20" fill="#95a5a6"/></svg>`,
        'elevator_safety': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="40" width="80" height="120" fill="#bdc3c7" stroke="#2c3e50" stroke-width="3"/><rect x="65" y="45" width="70" height="110" fill="#ecf0f1"/><rect x="70" y="60" width="30" height="50" fill="#34495e"/><rect x="110" y="60" width="30" height="50" fill="#34495e"/><line x1="85" y1="60" x2="85" y2="110" stroke="#95a5a6" stroke-width="2"/><line x1="125" y1="60" x2="125" y2="110" stroke="#95a5a6" stroke-width="2"/><circle cx="100" cy="130" r="8" fill="#f4a460"/><ellipse cx="100" cy="145" rx="6" ry="10" fill="#3498db"/><rect x="95" y="160" width="10" height="20" fill="#8b4513"/></svg>`,
        'playground_safety': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="40" y="140" width="120" height="40" fill="#27ae60"/><rect x="60" y="80" width="20" height="60" fill="#8b4513"/><rect x="120" y="80" width="20" height="60" fill="#8b4513"/><rect x="60" y="80" width="80" height="15" fill="#e74c3c"/><circle cx="100" cy="70" r="12" fill="#f4a460"/><ellipse cx="100" cy="55" rx="8" ry="15" fill="#3498db"/><path d="M85 65 Q100 60 115 65" stroke="#2c3e50" stroke-width="2" fill="none"/></svg>`,
        'car_hot': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="40" y="100" width="120" height="60" fill="#e74c3c" rx="15"/><rect x="50" y="80" width="100" height="40" fill="#c0392b" rx="10"/><circle cx="60" cy="150" r="15" stroke="#2c3e50" stroke-width="3" fill="none"/><circle cx="140" cy="150" r="15" stroke="#2c3e50" stroke-width="3" fill="none"/><rect x="60" y="90" width="80" height="30" fill="#85c1e9"/><circle cx="100" cy="105" r="8" fill="#f4a460"/><path d="M70 40 Q100 20 130 40" stroke="#f39c12" stroke-width="4" fill="none"/><path d="M75 30 Q100 10 125 30" stroke="#e67e22" stroke-width="4" fill="none"/><text x="100" y="180" text-anchor="middle" fill="#e74c3c" font-size="12" font-weight="bold">N√ìNG ‚òÄÔ∏è</text></svg>`,
        'emergency_number': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="60" width="80" height="100" fill="#e74c3c" rx="10"/><rect x="70" y="70" width="60" height="40" fill="#2c3e50" rx="5"/><text x="100" y="95" text-anchor="middle" fill="#ffffff" font-size="20" font-weight="bold" font-family="Arial">113</text><circle cx="80" cy="130" r="6" fill="#ffffff"/><circle cx="100" cy="130" r="6" fill="#ffffff"/><circle cx="120" cy="130" r="6" fill="#ffffff"/><rect x="85" y="140" width="30" height="8" fill="#ffffff" rx="4"/><text x="100" y="180" text-anchor="middle" fill="#2c3e50" font-size="14" font-weight="bold">KH·∫®N C·∫§P</text></svg>`,
        
        // Th√™m SVG cho c√¢u h·ªèi to√°n m·ªõi
        'count_fingers': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="120" rx="40" ry="30" fill="#f4a460"/><rect x="70" y="70" width="8" height="40" fill="#f4a460" rx="4"/><rect x="82" y="60" width="8" height="50" fill="#f4a460" rx="4"/><rect x="94" y="60" width="8" height="50" fill="#f4a460" rx="4"/><rect x="106" y="60" width="8" height="50" fill="#f4a460" rx="4"/><rect x="118" y="70" width="8" height="40" fill="#f4a460" rx="4"/></svg>`,
        
        'more_less': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="50" cy="80" r="12" fill="#e74c3c"/><circle cx="50" cy="110" r="12" fill="#e74c3c"/><circle cx="50" cy="140" r="12" fill="#e74c3c"/><circle cx="150" cy="90" r="12" fill="#e74c3c"/><circle cx="150" cy="130" r="12" fill="#e74c3c"/><line x1="100" y1="50" x2="100" y2="170" stroke="#2c3e50" stroke-width="3"/><text x="50" y="40" text-anchor="middle" fill="#2c3e50" font-size="16" font-weight="bold">3 qu·∫£</text><text x="150" y="40" text-anchor="middle" fill="#2c3e50" font-size="16" font-weight="bold">2 qu·∫£</text></svg>`,
        
        'what_comes_next': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><text x="40" y="100" text-anchor="middle" fill="#2c3e50" font-size="40" font-weight="bold" font-family="Arial">1</text><text x="80" y="100" text-anchor="middle" fill="#2c3e50" font-size="40" font-weight="bold" font-family="Arial">2</text><text x="120" y="100" text-anchor="middle" fill="#2c3e50" font-size="40" font-weight="bold" font-family="Arial">3</text><text x="160" y="100" text-anchor="middle" fill="#e74c3c" font-size="40" font-weight="bold" font-family="Arial">?</text><text x="100" y="150" text-anchor="middle" fill="#2c3e50" font-size="16" font-weight="bold">S·ªë ti·∫øp theo?</text></svg>`,
        
        'pattern_abc': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="40" cy="90" r="20" fill="#e74c3c"/><circle cx="80" cy="90" r="20" fill="#3498db"/><circle cx="120" cy="90" r="20" fill="#e74c3c"/><circle cx="160" cy="90" r="20" fill="#3498db"/><text x="100" y="140" text-anchor="middle" fill="#2c3e50" font-size="16" font-weight="bold">H√¨nh ti·∫øp theo?</text><rect x="180" y="70" width="40" height="40" fill="#f1c40f" rx="20"/><text x="200" y="95" text-anchor="middle" fill="#2c3e50" font-size="30" font-weight="bold">?</text></svg>`,
        
        'heavy_light': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="60" cy="80" r="25" fill="#ff69b4"/><rect x="55" y="100" width="10" height="30" fill="#95a5a6"/><polygon points="120,120 140,120 160,100 140,80 120,80 100,100" fill="#7f8c8d"/><text x="60" y="140" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">B√≥ng bay</text><text x="130" y="140" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">C·ª•c ƒë√°</text></svg>`,
        
        // Th√™m SVG cho con v·∫≠t m·ªõi
        'rabbit': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="130" rx="30" ry="25" fill="#ffffff"/><circle cx="100" cy="90" r="25" fill="#ffffff"/><ellipse cx="85" cy="60" rx="6" ry="18" fill="#ffffff"/><ellipse cx="115" cy="60" rx="6" ry="18" fill="#ffffff"/><circle cx="92" cy="75" r="3" fill="#2c3e50"/><circle cx="108" cy="75" r="3" fill="#2c3e50"/><ellipse cx="100" cy="85" rx="4" ry="3" fill="#2c3e50"/><path d="M90 90 Q100 95 110 90" stroke="#2c3e50" stroke-width="2" fill="none"/><ellipse cx="70" cy="100" rx="8" ry="20" fill="#ffffff"/><ellipse cx="130" cy="100" rx="8" ry="20" fill="#ffffff"/></svg>`,
        
        'fish': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="100" rx="40" ry="25" fill="#ff8c00"/><polygon points="60,100 40,85 40,115" fill="#ff8c00"/><polygon points="120,90 140,85 140,95 130,90" fill="#ff6347"/><circle cx="120" cy="90" r="6" fill="#2c3e50"/><circle cx="125" cy="87" r="2" fill="#ffffff"/><path d="M60 100 Q100 60 150 100" stroke="#3498db" stroke-width="3" fill="none"/><path d="M60 120 Q100 80 150 120" stroke="#3498db" stroke-width="3" fill="none"/></svg>`,
        
        'monkey': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="130" rx="25" ry="30" fill="#8b4513"/><circle cx="100" cy="80" r="22" fill="#8b4513"/><circle cx="80" cy="70" r="8" fill="#d2b48c"/><circle cx="120" cy="70" r="8" fill="#d2b48c"/><circle cx="88" cy="75" r="3" fill="#2c3e50"/><circle cx="112" cy="75" r="3" fill="#2c3e50"/><ellipse cx="100" cy="85" rx="4" ry="3" fill="#2c3e50"/><path d="M90 90 Q100 95 110 90" stroke="#2c3e50" stroke-width="2" fill="none"/><ellipse cx="65" cy="100" rx="8" ry="20" fill="#8b4513"/><ellipse cx="135" cy="100" rx="8" ry="20" fill="#8b4513"/></svg>`,
        
        'tiger': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="130" rx="35" ry="30" fill="#ff8c00"/><circle cx="100" cy="80" r="25" fill="#ff8c00"/><ellipse cx="85" cy="65" rx="6" ry="8" fill="#ff8c00"/><ellipse cx="115" cy="65" rx="6" ry="8" fill="#ff8c00"/><circle cx="90" cy="75" r="3" fill="#2c3e50"/><circle cx="110" cy="75" r="3" fill="#2c3e50"/><ellipse cx="100" cy="85" rx="4" ry="3" fill="#2c3e50"/><rect x="85" y="70" width="30" height="3" fill="#000000"/><rect x="80" y="100" width="40" height="3" fill="#000000"/><rect x="85" y="120" width="30" height="3" fill="#000000"/><rect x="90" y="140" width="20" height="3" fill="#000000"/></svg>`,
        
        'sheep': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="130" rx="40" ry="30" fill="#ffffff"/><circle cx="100" cy="90" r="25" ry="20" fill="#ffffff"/><circle cx="80" cy="85" r="8" fill="#ffffff"/><circle cx="120" cy="85" r="8" fill="#ffffff"/><circle cx="85" cy="100" r="6" fill="#ffffff"/><circle cx="115" cy="100" r="6" fill="#ffffff"/><circle cx="70" cy="110" r="8" fill="#ffffff"/><circle cx="130" cy="110" r="8" fill="#ffffff"/><circle cx="88" cy="80" r="2" fill="#2c3e50"/><circle cx="112" cy="80" r="2" fill="#2c3e50"/><ellipse cx="100" cy="88" rx="3" ry="2" fill="#ff69b4"/></svg>`,
        
        'horse': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="110" cy="130" rx="35" ry="30" fill="#8b4513"/><ellipse cx="95" cy="80" rx="20" ry="25" fill="#8b4513"/><polygon points="75,60 85,55 95,70" fill="#8b4513"/><rect x="80" y="50" width="25" height="8" fill="#654321"/><circle cx="85" cy="70" r="3" fill="#2c3e50"/><ellipse cx="90" cy="80" rx="3" ry="2" fill="#2c3e50"/><rect x="95" y="150" width="8" height="25" fill="#8b4513"/><rect x="115" y="150" width="8" height="25" fill="#8b4513"/><rect x="130" y="150" width="8" height="25" fill="#8b4513"/><rect x="140" y="150" width="8" height="25" fill="#8b4513"/></svg>`,
        
        'frog': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="130" rx="35" ry="25" fill="#27ae60"/><circle cx="100" cy="90" r="20" fill="#27ae60"/><circle cx="80" cy="75" r="8" fill="#27ae60"/><circle cx="120" cy="75" r="8" fill="#27ae60"/><circle cx="82" cy="71" r="2" fill="#2c3e50"/><circle cx="122" cy="71" r="2" fill="#2c3e50"/><path d="M90 105 Q100 110 110 105" stroke="#2c3e50" stroke-width="2" fill="none"/><ellipse cx="70" cy="140" rx="12" ry="8" fill="#27ae60"/><ellipse cx="130" cy="140" rx="12" ry="8" fill="#27ae60"/></svg>`,
        
        // Th√™m SVG cho ƒë·ªì d√πng cu·ªôc s·ªëng
        'spoon': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="100" cy="70" rx="20" ry="15" fill="#bdc3c7"/><rect x="97" y="85" width="6" height="80" fill="#bdc3c7" rx="3"/></svg>`,
        
        'scissors': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><ellipse cx="70" cy="80" rx="12" ry="6" fill="#95a5a6"/><ellipse cx="70" cy="120" rx="12" ry="6" fill="#95a5a6"/><line x1="82" y1="80" x2="130" y2="100" stroke="#2c3e50" stroke-width="4"/><line x1="82" y1="120" x2="130" y2="100" stroke="#2c3e50" stroke-width="4"/><circle cx="65" cy="80" r="3" fill="#34495e"/><circle cx="65" cy="120" r="3" fill="#34495e"/></svg>`,
        
        'umbrella': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><path d="M50 100 Q100 50 150 100" stroke="#e74c3c" stroke-width="4" fill="#e74c3c" opacity="0.7"/><line x1="100" y1="100" x2="100" y2="160" stroke="#8b4513" stroke-width="6"/><path d="M90 110 Q100 115 110 110" stroke="#2c3e50" stroke-width="2" fill="none"/><rect x="140" y="70" width="40" height="40" fill="#f1c40f" rx="20"/><text x="160" y="95" text-anchor="middle" fill="#2c3e50" font-size="30" font-weight="bold">?</text></svg>`,
        
        'clock': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="100" cy="100" r="50" fill="#ffffff" stroke="#2c3e50" stroke-width="4"/><circle cx="100" cy="100" r="5" fill="#2c3e50"/><line x1="100" y1="100" x2="100" y2="70" stroke="#2c3e50" stroke-width="4" stroke-linecap="round"/><line x1="100" y1="100" x2="125" y2="100" stroke="#e74c3c" stroke-width="3" stroke-linecap="round"/><text x="100" y="65" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">12</text><text x="135" y="105" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">3</text><text x="100" y="145" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">6</text><text x="70" y="105" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">9</text></svg>`,
        
        'mirror': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="60" y="60" width="80" height="100" fill="#85c1e9" stroke="#2c3e50" stroke-width="3" rx="5"/><circle cx="90" cy="90" r="8" fill="#f4a460"/><ellipse cx="90" cy="110" rx="6" ry="12" fill="#3498db"/><circle cx="85" cy="85" r="2" fill="#2c3e50"/><path d="M82 95 Q90 100 98 95" stroke="#2c3e50" stroke-width="2" fill="none"/><rect x="95" y="160" width="10" height="20" fill="#8b4513"/></svg>`,
        
        'broom': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><rect x="97" y="40" width="6" height="100" fill="#8b4513" rx="3"/><rect x="80" y="135" width="40" height="25" fill="#f1c40f"/><line x1="85" y1="140" x2="85" y2="155" stroke="#e67e22" stroke-width="2"/><line x1="90" y1="140" x2="90" y2="155" stroke="#e67e22" stroke-width="2"/><line x1="95" y1="140" x2="95" y2="155" stroke="#e67e22" stroke-width="2"/><line x1="100" y1="140" x2="100" y2="155" stroke="#e67e22" stroke-width="2"/><line x1="105" y1="140" x2="105" y2="155" stroke="#e67e22" stroke-width="2"/><line x1="110" y1="140" x2="110" y2="155" stroke="#e67e22" stroke-width="2"/><line x1="115" y1="140" x2="115" y2="155" stroke="#e67e22" stroke-width="2"/></svg>`,
        
        'key': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="130" cy="100" r="25" fill="#f1c40f" stroke="#e67e22" stroke-width="3"/><circle cx="130" cy="100" r="15" fill="none" stroke="#e67e22" stroke-width="2"/><rect x="60" y="95" width="70" height="10" fill="#f1c40f"/><rect x="60" y="90" width="15" height="8" fill="#f1c40f"/><rect x="60" y="112" width="10" height="8" fill="#f1c40f"/></svg>`,
        
        // Th√™m SVG cho c√¢u h·ªèi m√†u s·∫Øc m·ªõi
        'heart': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><path d="M100 150 C100 150 50 100 50 75 C50 50 75 50 100 75 C125 50 150 50 150 75 C150 100 100 150 100 150 Z" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/></svg>`,
        
        'diamond': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><polygon points="100,60 140,100 100,140 60,100" fill="#3498db" stroke="#2980b9" stroke-width="3"/></svg>`,
        
        'colors_mix': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="70" cy="90" r="25" fill="#e74c3c" opacity="0.8"/><circle cx="130" cy="90" r="25" fill="#f1c40f" opacity="0.8"/><text x="100" y="110" text-anchor="middle" fill="#2c3e50" font-size="20" font-weight="bold">+</text><circle cx="100" cy="150" r="25" fill="#ff8c00"/><text x="100" y="40" text-anchor="middle" fill="#2c3e50" font-size="16" font-weight="bold">ƒê·ªè + V√†ng = ?</text></svg>`,
        
        'rainbow': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><path d="M30 120 Q100 60 170 120" stroke="#e74c3c" stroke-width="8" fill="none"/><path d="M35 125 Q100 70 165 125" stroke="#ff8c00" stroke-width="8" fill="none"/><path d="M40 130 Q100 80 160 130" stroke="#f1c40f" stroke-width="8" fill="none"/><path d="M45 135 Q100 90 155 135" stroke="#27ae60" stroke-width="8" fill="none"/><path d="M50 140 Q100 100 150 140" stroke="#3498db" stroke-width="8" fill="none"/><path d="M55 145 Q100 110 145 145" stroke="#9b59b6" stroke-width="8" fill="none"/><path d="M60 150 Q100 120 140 150" stroke="#e91e63" stroke-width="8" fill="none"/><text x="100" y="180" text-anchor="middle" fill="#2c3e50" font-size="16" font-weight="bold">C·∫ßu v·ªìng</text></svg>`,
        
        'same_different': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="50" cy="80" r="20" fill="#e74c3c"/><circle cx="80" cy="80" r="20" fill="#3498db"/><circle cx="120" cy="80" r="20" fill="#e74c3c"/><circle cx="160" cy="80" r="20" fill="#3498db"/><text x="100" y="120" text-anchor="middle" fill="#2c3e50" font-size="16" font-weight="bold">H√¨nh ti·∫øp theo?</text><rect x="180" y="70" width="40" height="40" fill="#f1c40f" rx="20"/><text x="200" y="95" text-anchor="middle" fill="#2c3e50" font-size="30" font-weight="bold">?</text></svg>`,
        
        'big_small_color': `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#e8f4f8" width="200" height="200" rx="20"/><circle cx="50" cy="100" r="15" fill="#e74c3c"/><circle cx="100" cy="100" r="20" fill="#3498db"/><circle cx="150" cy="100" r="25" fill="#f1c40f"/><text x="50" y="140" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">ƒê·ªè</text><text x="100" y="140" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">Xanh</text><text x="150" y="140" text-anchor="middle" fill="#2c3e50" font-size="12" font-weight="bold">V√†ng</text></svg>`
      };
      
      return svgImages[type] || `<svg width="200" height="200" viewBox="0 0 200 200"><rect fill="#ecf0f1" width="200" height="200" rx="20"/><text x="100" y="100" text-anchor="middle" fill="#95a5a6" font-size="20" font-family="Arial">?</text></svg>`;
    }
    function loadTopic(topic) {
      if (TOPICS_CONFIG[topic]) {
        // S·ª≠ d·ª•ng h·ªá th·ªëng random ƒë·ªÉ l·∫•y c√¢u h·ªèi
        questions = getRandomQuestions(topic, GAME_CONFIG.questionsPerGame);
        
        buildGrid();
        // Reset ƒëi·ªÉm s·ªë khi ch·ªçn ch·ªß ƒë·ªÅ m·ªõi
        score = 0;
        answered = 0;
        correctAnswers = 0;
        wrongAnswers = 0;
        updateScore();
        
        if (topic === 'tat_ca_chu_de') {
          EFFECTS_SYSTEM.showTopicLoadMessage(
            getTopicName(topic), 
            Object.keys(TOPICS_CONFIG).length - 1, 
            true
          );
        } else {
          const totalQuestions = TOPICS_CONFIG[topic].questions.length;
          EFFECTS_SYSTEM.showTopicLoadMessage(
            getTopicName(topic), 
            totalQuestions, 
            false
          );
        }
      } else {
        EFFECTS_SYSTEM.showErrorMessage(`Kh√¥ng t√¨m th·∫•y ch·ªß ƒë·ªÅ ${topic}!`);
      }
    }

    // ===== H√ÄM TI·ªÜN √çCH TH√äM CH·ª¶ ƒê·ªÄ M·ªöI =====
    function addNewTopic(topicKey, topicName, color, questionsArray) {
      // H√†m n√†y gi√∫p th√™m ch·ªß ƒë·ªÅ m·ªõi m·ªôt c√°ch d·ªÖ d√†ng
      // S·ª≠ d·ª•ng: addNewTopic('the_thao', '‚öΩ Th·ªÉ thao', '#ff6b6b', [array_cau_hoi])
      
      if (TOPICS_CONFIG[topicKey]) {
        console.warn(`‚ö†Ô∏è Ch·ªß ƒë·ªÅ "${topicKey}" ƒë√£ t·ªìn t·∫°i!`);
        return false;
      }
      
      TOPICS_CONFIG[topicKey] = {
        name: topicName,
        color: color,
        questions: questionsArray
      };
      
      // C·∫≠p nh·∫≠t questionSets ƒë·ªÉ t∆∞∆°ng th√≠ch
      questionSets[topicKey] = questionsArray;
      
      // T√°i t·∫°o n√∫t
      createTopicButtons();
      
      console.log(`‚úÖ ƒê√£ th√™m ch·ªß ƒë·ªÅ "${topicName}" v·ªõi ${questionsArray.length} c√¢u h·ªèi!`);
      return true;
    }

    // ===== TI·ªÜN √çCH T·∫†O N√öT CH·ª¶ ƒê·ªÄ T·ª∞ ƒê·ªòNG =====
    function createTopicButtons() {
      const container = document.getElementById('topicButtons');
      container.innerHTML = '';
      
      Object.keys(TOPICS_CONFIG).forEach(topicKey => {
        const topic = TOPICS_CONFIG[topicKey];
        const button = document.createElement('button');
        button.textContent = topic.name;
        button.style.cssText = `
          margin: 5px; 
          padding: 10px; 
          background: ${topic.color}; 
          color: white; 
          border: none; 
          border-radius: 5px; 
          cursor: pointer;
          transition: all 0.3s ease;
        `;
        button.onclick = () => loadTopic(topicKey);
        
        // Hover effect
        button.onmouseover = () => {
          button.style.transform = 'scale(1.05)';
          button.style.boxShadow = '0 4px 8px rgba(0,0,0,0.3)';
        };
        button.onmouseout = () => {
          button.style.transform = 'scale(1)';
          button.style.boxShadow = 'none';
        };
        
        container.appendChild(button);
      });
    }

    // H√†m l·∫•y t√™n ch·ªß ƒë·ªÅ (ƒë√£ ƒë∆°n gi·∫£n h√≥a)
    function getTopicName(topic) {
      return TOPICS_CONFIG[topic]?.name || topic;
    }

    function buildGrid() {
      grid.innerHTML = "";
      const totalCells = GAME_CONFIG.questionsPerGame;
      
      for (let i = 0; i < totalCells; i++) {
        const cell = document.createElement("div");
        cell.className = "cell";
        cell.textContent = i + 1;
        cell.onclick = () => {
          if (cell.classList.contains("disabled")) return;
          const q = questions[Math.floor(Math.random() * questions.length)];
          
          // T·∫°o SVG image n·∫øu c√≥, ·∫©n ƒëi n·∫øu kh√¥ng c√≥
          if (q.img && q.img.trim() !== "") {
            const svgHTML = createSVGImage(q.img);
            questionImage.innerHTML = svgHTML;
            questionImage.style.display = 'block';
          } else {
            questionImage.style.display = 'none';
          }
          
          questionText.textContent = q.q;
          currentAnswer = q.a;
          
          // T·∫°o c√°c n√∫t l·ª±a ch·ªçn v·ªõi m√†u s·∫Øc kh√°c nhau
          optionsContainer.innerHTML = "";
          q.options.forEach((option, index) => {
            const btn = document.createElement("button");
            btn.className = `option-btn option-${String.fromCharCode(97 + index)}`; // option-a, option-b, option-c, option-d
            btn.textContent = option;
            btn.onclick = () => selectAnswer(String.fromCharCode(65 + index)); // A, B, C, D
            optionsContainer.appendChild(btn);
          });
          
          modal.style.display = "flex";
          currentCell = cell;
        };
        grid.appendChild(cell);
      }
    }

    function selectAnswer(selectedOption) {
      // T·∫Øt t·∫•t c·∫£ n√∫t
      const buttons = optionsContainer.querySelectorAll('.option-btn');
      buttons.forEach(btn => btn.style.pointerEvents = 'none');
      
      if (selectedOption === currentAnswer) {
        // Tr·∫£ l·ªùi ƒë√∫ng
        buttons.forEach((btn, index) => {
          if (String.fromCharCode(65 + index) === currentAnswer) {
            btn.classList.add('correct');
          }
        });
        
        setTimeout(() => {
          // Hi·ªáu ·ª©ng tr·∫£ l·ªùi ƒë√∫ng
          currentCell.style.background = 'linear-gradient(45deg, #2ecc71, #27ae60)';
          currentCell.textContent = "üéÅ";
          currentCell.classList.add("disabled");
          modal.style.display = "none";
          
          // C·∫≠p nh·∫≠t ƒëi·ªÉm s·ªë v√† th·ªëng k√™
          score += 10;
          answered += 1;
          correctAnswers += 1;
          updateScore();
          
          // Hi·ªáu ·ª©ng th√†nh c√¥ng
          EFFECTS_SYSTEM.showSuccessMessage("üéâ Gi·ªèi qu√°! C√¢u tr·∫£ l·ªùi ƒë√∫ng! +10 ƒëi·ªÉm!");
          
          // Ki·ªÉm tra ho√†n th√†nh
          if (answered === GAME_CONFIG.questionsPerGame) {
            setTimeout(() => {
              EFFECTS_SYSTEM.showGameCompleteMessage(score, GAME_CONFIG.questionsPerGame);
            }, 2500);
          }
        }, 1000);
      } else {
        // Tr·∫£ l·ªùi sai
        buttons.forEach((btn, index) => {
          if (String.fromCharCode(65 + index) === selectedOption) {
            btn.classList.add('wrong');
          } else if (String.fromCharCode(65 + index) === currentAnswer) {
            btn.classList.add('correct');
          }
        });
        
        setTimeout(() => {
          // C·∫≠p nh·∫≠t th·ªëng k√™ khi tr·∫£ l·ªùi sai
          wrongAnswers += 1;
          answered += 1;
          updateScore();
          
          // ƒê√°nh d·∫•u √¥ l√† ƒë√£ tr·∫£ l·ªùi sai v√† b·ªè qua
          currentCell.style.background = 'linear-gradient(45deg, #e74c3c, #c0392b)';
          currentCell.textContent = "‚ùå";
          currentCell.classList.add("disabled");
          modal.style.display = "none";
          
          EFFECTS_SYSTEM.showErrorMessage(`üòû Sai r·ªìi! ƒê√°p √°n ƒë√∫ng l√†: ${currentAnswer}. B·ªè qua c√¢u n√†y!`);
          
          // Ki·ªÉm tra ho√†n th√†nh
          if (answered === GAME_CONFIG.questionsPerGame) {
            setTimeout(() => {
              EFFECTS_SYSTEM.showGameCompleteMessage(score, GAME_CONFIG.questionsPerGame);
            }, 2500);
          }
        }, 1500);
      }
    }

    function updateScore() {
      document.getElementById('score').textContent = score;
      document.getElementById('answered').textContent = answered;
      document.getElementById('correctCount').textContent = correctAnswers;
      document.getElementById('wrongCount').textContent = wrongAnswers;
      document.getElementById('totalQuestions').textContent = GAME_CONFIG.questionsPerGame;
    }

    function closeModal() {
      modal.style.display = "none";
    }

    // Th√™m hi·ªáu ·ª©ng confetti khi tr·∫£ l·ªùi ƒë√∫ng (di chuy·ªÉn v√†o EFFECTS_SYSTEM)
    // function createConfetti() - ƒë√£ ƒë∆∞·ª£c thay th·∫ø b·ªüi EFFECTS_SYSTEM.createConfetti()

    // CSS cho hi·ªáu ·ª©ng (ƒë√£ ƒë∆∞·ª£c th√™m v√†o ph·∫ßn CSS ch√≠nh)
    const style = document.createElement('style');
    style.textContent = `
      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(360deg);
        }
      }
    `;
    document.head.appendChild(style);

    window.onclick = function (event) {
      if (event.target === modal) {
        modal.style.display = "none";
      }
    };

    // ===== KH·ªûI T·∫†O GAME =====
    // T·∫°o c√°c n√∫t ch·ªß ƒë·ªÅ khi trang load
    document.addEventListener('DOMContentLoaded', function() {
      createTopicButtons();
      
      // Kh·ªüi t·∫°o h·ªá th·ªëng √¢m thanh
      AUDIO_SYSTEM.init();
      
      // Cho ph√©p √¢m thanh sau t∆∞∆°ng t√°c ƒë·∫ßu ti√™n c·ªßa ng∆∞·ªùi d√πng
      document.addEventListener('click', function initAudio() {
        if (AUDIO_SYSTEM.audioContext && AUDIO_SYSTEM.audioContext.state === 'suspended') {
          AUDIO_SYSTEM.audioContext.resume();
        }
        document.removeEventListener('click', initAudio);
      }, { once: true });
      
      console.log('üéÆ Game ƒë√£ s·∫µn s√†ng! C√≥', Object.keys(TOPICS_CONFIG).length, 'ch·ªß ƒë·ªÅ kh·∫£ d·ª•ng.');
      console.log('üîä H·ªá th·ªëng √¢m thanh ƒë√£ kh·ªüi t·∫°o.');
      console.log('üé® Hi·ªáu ·ª©ng m√†u s·∫Øc ƒë√°p √°n: A=H·ªìng, B=Xanh l√°, C=Xanh d∆∞∆°ng, D=Cam');
    });
  </script>
</body>
</html>
